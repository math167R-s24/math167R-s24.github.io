<!DOCTYPE html>
<html lang="en"><head>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-html/tabby.min.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.3.353">

  <meta name="author" content="Peter Gao">
  <title>MATH167R - MATH167R: Data visualization</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #767676;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #767676;  padding-left: 4px; }
    div.sourceCode
      { color: #545454; background-color: #fefefe; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #545454; } /* Normal */
    code span.al { color: #7928a1; } /* Alert */
    code span.an { color: #696969; } /* Annotation */
    code span.at { color: #a55a00; } /* Attribute */
    code span.bn { color: #7928a1; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #d91e18; } /* ControlFlow */
    code span.ch { color: #008000; } /* Char */
    code span.cn { color: #d91e18; } /* Constant */
    code span.co { color: #696969; } /* Comment */
    code span.cv { color: #696969; font-style: italic; } /* CommentVar */
    code span.do { color: #696969; font-style: italic; } /* Documentation */
    code span.dt { color: #7928a1; } /* DataType */
    code span.dv { color: #7928a1; } /* DecVal */
    code span.er { color: #7928a1; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #a55a00; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #696969; } /* Information */
    code span.kw { color: #d91e18; } /* Keyword */
    code span.op { color: #00769e; } /* Operator */
    code span.ot { color: #d91e18; } /* Other */
    code span.pp { color: #7928a1; } /* Preprocessor */
    code span.sc { color: #00769e; } /* SpecialChar */
    code span.ss { color: #008000; } /* SpecialString */
    code span.st { color: #008000; } /* String */
    code span.va { color: #a55a00; } /* Variable */
    code span.vs { color: #008000; } /* VerbatimString */
    code span.wa { color: #696969; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../site_libs/revealjs/dist/theme/quarto.css">
  <link href="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
<meta property="og:title" content="MATH167R - MATH167R: Data visualization">
<meta property="og:site-name" content="MATH167R">
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">MATH167R: Data visualization</h1>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Peter Gao 
</div>
</div>
</div>

</section>
<section id="warm-up" class="slide level2">
<h2>Warm-up</h2>
<ol type="1">
<li><p>What does the following code do?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a>flips <span class="ot">&lt;-</span> <span class="fu">factor</span>(<span class="fu">c</span>(<span class="st">"H"</span>, <span class="st">"T"</span>, <span class="st">"H"</span>, <span class="st">"H"</span>), <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"H"</span>, <span class="st">"T"</span>))</span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="fu">sum</span>(<span class="fu">as.numeric</span>(flips))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></li>
</ol>
</section>
<section id="warm-up-1" class="slide level2">
<h2>Warm-up</h2>
<p><strong>Answer:</strong></p>
<ol type="1">
<li><div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>flips <span class="ot">&lt;-</span> <span class="fu">factor</span>(<span class="fu">c</span>(<span class="st">"H"</span>, <span class="st">"T"</span>, <span class="st">"H"</span>, <span class="st">"H"</span>), <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"H"</span>, <span class="st">"T"</span>))</span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="fu">sum</span>(<span class="fu">as.numeric</span>(flips))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></li>
</ol>
</section>
<section id="overview-of-today" class="slide level2">
<h2>Overview of today</h2>
<ul>
<li>Data visualization in base R</li>
<li>Data visualization with <code>ggplot2</code></li>
<li>Principles of data visualization</li>
</ul>
</section>
<section>
<section id="data-visualization-in-base-r" class="title-slide slide level1 center">
<h1>Data visualization in base R</h1>

</section>
<section id="example-calenviroscreen" class="slide level2">
<h2>Example: CalEnviroScreen</h2>
<p>Passed in 2012, SB 535 requires that 25% of revenue from California’s cap-and-trade program be spent to benefit communities identified by CalEPA as “disadvantaged,” based on “geographic, socioeconomic, public health, and environmental hazard criteria.”</p>
<p>We will begin by downloading the data from <a href="https://oehha.ca.gov/media/downloads/calenviroscreen/document/calenviroscreen40shpf2021shp.zip">here</a>.</p>

<img data-src="https://oehha.ca.gov/sites/default/files/media/files/images/misc/ces4resultsmapimage.png" class="r-stretch"></section>
<section id="example-calenviroscreen-1" class="slide level2 smaller">
<h2>Example: CalEnviroScreen</h2>
<p>This is a shapefile, which contains data on each census tract in California. To read it into <code>R</code>, we will need the <code>sf</code> package, which you can install using <code>install.packages("sf")</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="fu">library</span>(sf)</span>
<span id="cb3-2"><a href="#cb3-2"></a>ces_data <span class="ot">&lt;-</span> <span class="fu">st_read</span>(<span class="st">"~/MATH167R/data/calenviroscreen40shpf2021shp/"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="fu">class</span>(ces_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "sf"         "data.frame"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="fu">head</span>(ces_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Simple feature collection with 6 features and 66 fields
Geometry type: MULTIPOLYGON
Dimension:     XY
Bounding box:  xmin: -44775.05 ymin: -350085.7 xmax: -36182.83 ymax: -340029.8
Projected CRS: NAD83 / California Albers
       Tract   ZIP        County   ApproxLoc TotPop19   CIscore  CIscoreP
1 6083002103 93454 Santa Barbara Santa Maria     4495 36.019653 69.162885
2 6083002402 93455 Santa Barbara Santa Maria    13173 37.030667 70.637922
3 6083002102 93454 Santa Barbara Santa Maria     2398 31.213140 61.069087
4 6083002010 93455 Santa Barbara      Orcutt     4496  6.639331  5.988401
5 6083002009 93455 Santa Barbara      Orcutt     4008 14.022852 23.121533
6 6083002008 93455 Santa Barbara      Orcutt     7074  9.958479 12.808875
       Ozone   OzoneP    PM2_5   PM2_5_P   DieselPM DieselPM_P   Pesticide
1 0.03419029 10.56627 7.567724 10.031114 0.15457283   52.40821  1705.21702
2 0.03521715 11.56192 7.624775 10.454263 0.10608759   39.36528 31524.11322
3 0.03419029 10.56627 7.548835  9.931549 0.19047418   60.31114  2328.79749
4 0.03624400 13.61543 7.660570 10.653391 0.09138437   34.27505  3237.52248
5 0.03624400 13.61543 7.663210 10.690728 0.05097617   18.48164    14.98837
6 0.03624400 13.61543 7.724757 11.126322 0.09044842   33.80212  6973.79475
  PesticideP   Tox_Rel Tox_Rel_P   Traffic TrafficP DrinkWat DrinkWatP     Lead
1   92.03448 13.685390  9.914979 1089.7315  63.4000 246.3727  11.16523 39.31056
2   99.58621 14.766173 10.265066  486.0378  19.9000 441.0587  52.82877 44.64199
3   93.82759 16.020654 10.515129  779.3813  42.7500 246.3727  11.16523 66.73806
4   95.41379  6.183637  7.864466  744.7093  39.9250 335.2215  32.55901 18.81221
5   63.24138  5.847123  7.714429  544.0408  24.3625 335.2215  32.55901 48.55917
6   97.75862  7.395100  8.214554  717.6585  37.6000 336.4334  32.73386 35.56429
    Lead_P Cleanup  CleanupP GWThreat GWThreatP HazWaste HazWasteP ImpWatBod
1 36.11846     1.0 17.077268    73.15 94.720239    0.440  64.76506         9
2 43.80592    13.5 72.396417   304.00 99.767558    2.800  95.55261        10
3 75.07246     0.1  2.071669     7.50 39.448780    0.135  23.71939         9
4 11.07750     0.0  0.000000     0.30  2.108584    0.200  35.61880         0
5 49.51481     0.1  2.071669     0.00  0.000000    0.210  37.68365         0
6 31.24134     0.1  2.071669     1.50 10.642537    0.100  16.63799         0
  ImpWatBodP SolWaste SolWasteP PollBurd PolBurdSc  PolBurdP Asthma  AsthmaP
1   77.29945        0   0.00000 40.72736  4.972803 45.003111  82.18 86.65254
2   82.96934       18  97.64032 53.86904  6.577399 79.962663  48.80 54.79811
3   77.29945        4  70.42383 40.37582  4.929880 43.858121  82.18 86.65254
4    0.00000        0   0.00000 22.96380  2.803875  6.098320  41.11 43.34497
5    0.00000        1  35.71592 23.37974  2.854662  6.583696  41.11 43.34497
6    0.00000        0   0.00000 24.13117  2.946411  7.380212  41.11 43.34497
  LowBirtWt  LowBirWP Cardiovas CardiovasP Educatn  EducatP Ling_Isol
1      6.01 75.327175     12.69   52.00648    30.4 80.66312      18.2
2      4.00 26.635874      7.60   10.81755    44.0 92.87522      18.2
3      4.95 51.013600     12.69   52.00648    30.2 80.46064      13.3
4      2.65  5.683859     10.31   32.41525     2.9 10.31384       0.0
5      6.22 79.278933     10.31   32.41525    10.1 42.29309       4.3
6      4.43 36.656402     10.31   32.41525     7.2 30.86560       1.7
  Ling_IsolP Poverty  PovertyP Unempl  UnemplP HousBurd HousBurdP  PopChar
1   83.84084    57.5 89.660804    3.1 18.31078     21.6  69.15082 69.82700
2   83.84084    51.0 83.040201    7.2 69.13066     19.3  60.10139 54.27409
3   72.25606    29.4 52.876884    4.3 35.02082     17.9  53.62484 61.03603
4    0.00000     8.8  7.550251    6.1 58.35502     10.6  16.31179 22.82710
5   33.30627    20.4 35.150754   12.1 92.39979      9.5  12.00253 47.35510
6   13.30356    15.6 23.304020    5.6 52.52473     11.0  18.46641 32.58254
  PopCharSc PopCharP Child_10 Pop_10_64 Elderly65 Hispanic   White AfricanAm
1  7.243330 79.82854  18.4427   69.0545   12.5028  68.9210 20.8899    0.4004
2  5.629987 56.55572  19.6462   75.0019    5.3519  78.6229 13.2240    2.5051
3  6.331420 67.18356  15.0959   72.0183   12.8857  65.7214 30.6088    0.9591
4  2.367913 10.74130  12.1441   73.4431   14.4128  22.9537 69.1948    0.9342
5  4.912263 46.28089  12.8244   68.2884   18.8872  33.4082 59.7804    0.6986
6  3.379868 23.82753  15.6630   68.4761   15.8609  33.4040 58.4111    2.6859
  NativeAm OtherMult Shape_Leng Shape_Area   AAPI
1   0.2670    1.3126   6999.358    2847611 8.2091
2   0.0000    0.9489  19100.578   16352921 4.6990
3   0.0000    2.1685   4970.986    1352329 0.5421
4   0.7117    2.5356   6558.956    2417717 3.6699
5   1.4721    1.3723   6570.369    2608422 3.2685
6   0.0000    2.7000   8840.458    3302911 2.7990
                        geometry
1 MULTIPOLYGON (((-39795.07 -...
2 MULTIPOLYGON (((-39795.07 -...
3 MULTIPOLYGON (((-38115.75 -...
4 MULTIPOLYGON (((-37341.66 -...
5 MULTIPOLYGON (((-39465.11 -...
6 MULTIPOLYGON (((-38569.1 -3...</code></pre>
</div>
</div>
</div>
</section>
<section id="example-calenviroscreen-2" class="slide level2">
<h2>Example: CalEnviroScreen</h2>
<p>The CalEnviroScreen data contains information on each tract’s different environmental indicators and percentile ranks. We will practice data exploration and visualization using this dataset.</p>
</section></section>
<section>
<section id="univariate-visualization" class="title-slide slide level1 center">
<h1>Univariate visualization</h1>

</section>
<section id="summarizing-categorical-data" class="slide level2">
<h2>Summarizing categorical data</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="fu">table</span>(ces_data<span class="sc">$</span>County)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
        Alameda          Alpine          Amador           Butte       Calaveras 
            360               1               9              51              10 
         Colusa    Contra Costa       Del Norte       El Dorado          Fresno 
              5             207               7              42             199 
          Glenn        Humboldt        Imperial            Inyo            Kern 
              6              30              31               6             151 
          Kings            Lake          Lassen     Los Angeles          Madera 
             27              15               9            2343              23 
          Marin        Mariposa       Mendocino          Merced           Modoc 
             55               6              20              49               4 
           Mono        Monterey            Napa          Nevada          Orange 
              3              93              40              20             582 
         Placer          Plumas       Riverside      Sacramento      San Benito 
             84               7             453             317              11 
 San Bernardino       San Diego   San Francisco     San Joaquin San Luis Obispo 
            369             627             195             139              53 
      San Mateo   Santa Barbara     Santa Clara      Santa Cruz          Shasta 
            157              89             372              52              48 
         Sierra        Siskiyou          Solano          Sonoma      Stanislaus 
              1              14              96              99              94 
         Sutter          Tehama         Trinity          Tulare        Tuolumne 
             21              11               5              78              11 
        Ventura            Yolo            Yuba 
            173              41              14 </code></pre>
</div>
</div>
</section>
<section id="summarizing-categorical-data-1" class="slide level2 smaller">
<h2>Summarizing categorical data</h2>
<p>The <code>barplot</code> function takes a <strong>named numeric vector</strong> as its first argument:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="fu">barplot</span>(<span class="at">height =</span> <span class="fu">table</span>(ces_data<span class="sc">$</span>County))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="07_visualizing-data_files/figure-revealjs/unnamed-chunk-7-1.png" width="960" class="r-stretch"><div class="fragment">
<p>Is this an effective visualization? Why or why not?</p>
</div>
</section>
<section id="summarizing-categorical-data-2" class="slide level2 smaller">
<h2>Summarizing categorical data</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="co"># turn unemployment rate into categorical variable</span></span>
<span id="cb11-2"><a href="#cb11-2"></a>ces_data<span class="sc">$</span>Unempl_Rate_Factor <span class="ot">&lt;-</span> <span class="fu">cut</span>(</span>
<span id="cb11-3"><a href="#cb11-3"></a>  ces_data<span class="sc">$</span>Unempl, </span>
<span id="cb11-4"><a href="#cb11-4"></a>  <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">5</span>, <span class="dv">10</span>, <span class="dv">15</span>, <span class="dv">20</span>, <span class="dv">25</span>, <span class="dv">100</span>)</span>
<span id="cb11-5"><a href="#cb11-5"></a>)</span>
<span id="cb11-6"><a href="#cb11-6"></a><span class="fu">table</span>(ces_data<span class="sc">$</span>Unempl_Rate_Factor)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
   (0,5]   (5,10]  (10,15]  (15,20]  (20,25] (25,100] 
    3408     3215      816      186       43       16 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="fu">barplot</span>(<span class="at">height =</span> <span class="fu">table</span>(ces_data<span class="sc">$</span>Unempl_Rate_Factor))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="07_visualizing-data_files/figure-revealjs/unnamed-chunk-8-1.png" width="960" class="r-stretch"></section>
<section id="customizing-base-r-plots" class="slide level2 smaller">
<h2>Customizing base R plots</h2>
<p>Base R plotting functions have many optional arguments allowing customization:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="fu">barplot</span>(</span>
<span id="cb14-2"><a href="#cb14-2"></a>  <span class="at">height =</span> <span class="fu">table</span>(ces_data<span class="sc">$</span>Unempl_Rate_Factor), </span>
<span id="cb14-3"><a href="#cb14-3"></a>  <span class="at">main =</span> <span class="st">"Distribution of Census Tract Unemployment Rates"</span>,</span>
<span id="cb14-4"><a href="#cb14-4"></a>  <span class="at">col =</span> <span class="st">"red"</span></span>
<span id="cb14-5"><a href="#cb14-5"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="07_visualizing-data_files/figure-revealjs/unnamed-chunk-9-1.png" width="960" class="r-stretch"></section>
<section id="summarizing-numerical-data" class="slide level2 smaller">
<h2>Summarizing numerical data</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a><span class="fu">hist</span>(</span>
<span id="cb15-2"><a href="#cb15-2"></a>  <span class="at">x =</span> ces_data<span class="sc">$</span>Unempl, </span>
<span id="cb15-3"><a href="#cb15-3"></a>  <span class="at">main =</span> <span class="st">"Distribution of Census Tract Unemployment Rates"</span>,</span>
<span id="cb15-4"><a href="#cb15-4"></a>  <span class="at">col =</span> <span class="st">"red"</span></span>
<span id="cb15-5"><a href="#cb15-5"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="07_visualizing-data_files/figure-revealjs/unnamed-chunk-10-1.png" width="960" class="r-stretch"></section>
<section id="summarizing-numerical-data-1" class="slide level2 smaller">
<h2>Summarizing numerical data</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a><span class="fu">summary</span>(ces_data<span class="sc">$</span>Unempl)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
-999.00    3.40    5.30  -35.64    7.80   43.90 </code></pre>
</div>
</div>
<p>The CalEnviroScreen data uses -999 for missing data. We can use the <code>replace</code> function to replace these with NA values.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a><span class="fu">hist</span>(</span>
<span id="cb18-2"><a href="#cb18-2"></a>  <span class="at">x =</span> <span class="fu">replace</span>(ces_data<span class="sc">$</span>Unempl, ces_data<span class="sc">$</span>Unempl <span class="sc">==</span> <span class="sc">-</span><span class="dv">999</span>, <span class="cn">NA</span>), </span>
<span id="cb18-3"><a href="#cb18-3"></a>  <span class="at">main =</span> <span class="st">"Distribution of Census Tract Unemployment Rates"</span>,</span>
<span id="cb18-4"><a href="#cb18-4"></a>  <span class="at">xlab =</span> <span class="st">"Unemployment Rate"</span>,</span>
<span id="cb18-5"><a href="#cb18-5"></a>  <span class="at">col =</span> <span class="st">"red"</span></span>
<span id="cb18-6"><a href="#cb18-6"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="07_visualizing-data_files/figure-revealjs/unnamed-chunk-12-1.png" width="960" class="r-stretch"></section>
<section id="summarizing-numerical-data-boxplots" class="slide level2 smaller">
<h2>Summarizing numerical data: boxplots</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a><span class="fu">boxplot</span>(</span>
<span id="cb19-2"><a href="#cb19-2"></a>  <span class="at">x =</span> <span class="fu">replace</span>(ces_data<span class="sc">$</span>Unempl, ces_data<span class="sc">$</span>Unempl <span class="sc">==</span> <span class="sc">-</span><span class="dv">999</span>, <span class="cn">NA</span>), </span>
<span id="cb19-3"><a href="#cb19-3"></a>  <span class="at">main =</span> <span class="st">"Distribution of Census Tract Unemployment Rates"</span>,</span>
<span id="cb19-4"><a href="#cb19-4"></a>  <span class="at">xlab =</span> <span class="st">"Unemployment Rate"</span>, </span>
<span id="cb19-5"><a href="#cb19-5"></a>  <span class="at">horizontal =</span> T,</span>
<span id="cb19-6"><a href="#cb19-6"></a>  <span class="at">col =</span> <span class="st">"red"</span></span>
<span id="cb19-7"><a href="#cb19-7"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="07_visualizing-data_files/figure-revealjs/unnamed-chunk-13-1.png" width="960" class="r-stretch"></section>
<section id="multivariate-visualization" class="slide level2 smaller">
<h2>Multivariate visualization</h2>
<p>The <code>plot</code> function can be used to obtain scatter plots for two numerical variables:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a><span class="co"># remove spatial information</span></span>
<span id="cb20-2"><a href="#cb20-2"></a>ces_data<span class="sc">$</span>geometry <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb20-3"><a href="#cb20-3"></a></span>
<span id="cb20-4"><a href="#cb20-4"></a><span class="co"># replace missing values</span></span>
<span id="cb20-5"><a href="#cb20-5"></a>ces_data <span class="ot">&lt;-</span> <span class="fu">replace</span>(ces_data, ces_data <span class="sc">==</span> <span class="sc">-</span><span class="dv">999</span>, <span class="cn">NA</span>)</span>
<span id="cb20-6"><a href="#cb20-6"></a><span class="fu">plot</span>(</span>
<span id="cb20-7"><a href="#cb20-7"></a>  <span class="at">x =</span> ces_data<span class="sc">$</span>PolBurdSc, </span>
<span id="cb20-8"><a href="#cb20-8"></a>  <span class="at">y =</span> ces_data<span class="sc">$</span>PopCharSc</span>
<span id="cb20-9"><a href="#cb20-9"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="07_visualizing-data_files/figure-revealjs/unnamed-chunk-14-1.png" width="960" class="r-stretch"></section>
<section id="multivariate-visualization-1" class="slide level2 smaller">
<h2>Multivariate visualization</h2>
<p>The <code>plot</code> function can be used to obtain scatter plots for two numerical variables:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a><span class="fu">plot</span>(</span>
<span id="cb21-2"><a href="#cb21-2"></a>  <span class="at">x =</span> ces_data<span class="sc">$</span>PolBurdSc, </span>
<span id="cb21-3"><a href="#cb21-3"></a>  <span class="at">y =</span> ces_data<span class="sc">$</span>PopCharSc,</span>
<span id="cb21-4"><a href="#cb21-4"></a>  <span class="at">xlab =</span> <span class="st">"Pollution Burden"</span>,</span>
<span id="cb21-5"><a href="#cb21-5"></a>  <span class="at">ylab =</span> <span class="st">"Population Characteristics"</span>,</span>
<span id="cb21-6"><a href="#cb21-6"></a>  <span class="at">col =</span> <span class="st">"blue"</span>,</span>
<span id="cb21-7"><a href="#cb21-7"></a>  <span class="at">pch =</span> <span class="dv">16</span>, <span class="co"># change shape of points</span></span>
<span id="cb21-8"><a href="#cb21-8"></a>  <span class="at">cex =</span> .<span class="dv">5</span>, <span class="co"># change size of points</span></span>
<span id="cb21-9"><a href="#cb21-9"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="07_visualizing-data_files/figure-revealjs/unnamed-chunk-15-1.png" width="960" class="r-stretch"></section>
<section id="data-visualization-with-ggplot2" class="slide level2 smaller">
<h2>Data visualization with <code>ggplot2</code></h2>
<p><code>ggplot2</code> is a fantastic package for making complex visualizations that many people find more intuitive to use.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a><span class="fu">library</span>(ggplot2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Plots are built sequentially using layers, so it’s easy to edit and fine-tune the plots you generate.</p>
<p>When using <code>ggplot2</code>, it is <em>essential</em> that your data are tidy! If they are not, the functions probably will not look like you expect.</p>
<p>Let’s work through how to build a plot layer by layer.</p>
</section>
<section id="data-visualization-with-ggplot2-1" class="slide level2 smaller">
<h2>Data visualization with <code>ggplot2</code></h2>
<p>First, let’s initialize a plot. Use the <code>data</code> parameter to tell <code>ggplot</code> what data frame to use.</p>
<ul>
<li>It should be tidy data, in either a <code>data.frame</code> or <code>tibble</code>!</li>
</ul>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb23" data-code-line-numbers="1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> ces_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="07_visualizing-data_files/figure-revealjs/unnamed-chunk-18-1.png" width="384"></p>
</div>
</div>
</div>
</div>
</section>
<section id="select-variables-using-ggplot2" class="slide level2 smaller">
<h2>Select variables using <code>ggplot2</code></h2>
<p>Next, we match <strong>variables</strong> to <strong>aesthetics</strong> within our plot. For example, let’s put Pollution Burden on the x-axis. We do so using the function <code>aes()</code> within the initial <code>ggplot()</code> call.</p>
<ul>
<li>Possible aesthetics include axes as well as characteristics such as color, size, shape</li>
</ul>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb24" data-code-line-numbers="2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> ces_data,</span>
<span id="cb24-2"><a href="#cb24-2"></a>       <span class="fu">aes</span>(<span class="at">x =</span> PolBurdSc)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="07_visualizing-data_files/figure-revealjs/unnamed-chunk-20-1.png" width="384"></p>
</div>
</div>
</div>
</div>
</section>
<section id="map-aesthetics-to-shapes-using-ggplot2" class="slide level2 smaller">
<h2>Map aesthetics to shapes using <code>ggplot2</code></h2>
<p>Now <code>ggplot</code> knows what to plot, but it doesn’t know how to plot it yet. Let’s add a new layer that creates a histogram with <code>geom_histogram()</code>.</p>
<ul>
<li>This is a new layer! We add layers using the <code>+</code> operator.</li>
</ul>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb25" data-code-line-numbers="3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> ces_data,</span>
<span id="cb25-2"><a href="#cb25-2"></a>       <span class="fu">aes</span>(<span class="at">x =</span> PolBurdSc)) <span class="sc">+</span></span>
<span id="cb25-3"><a href="#cb25-3"></a>  <span class="fu">geom_histogram</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="07_visualizing-data_files/figure-revealjs/unnamed-chunk-22-1.png" width="384"></p>
</div>
</div>
</div>
</div>
</section>
<section id="customizing-shapes" class="slide level2 smaller">
<h2>Customizing shapes</h2>
<p>We can customize the shape within <code>geom_histogram()</code>:</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb26" data-code-line-numbers="3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> ces_data,</span>
<span id="cb26-2"><a href="#cb26-2"></a>       <span class="fu">aes</span>(<span class="at">x =</span> PolBurdSc)) <span class="sc">+</span></span>
<span id="cb26-3"><a href="#cb26-3"></a>  <span class="fu">geom_histogram</span>(<span class="at">fill =</span> <span class="st">'red'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="07_visualizing-data_files/figure-revealjs/unnamed-chunk-24-1.png" width="384"></p>
</div>
</div>
</div>
</div>
</section>
<section id="adding-label-and-titles" class="slide level2 smaller">
<h2>Adding label and titles</h2>
<p>We can finally add axis labels and a title using the <code>+</code> operator:</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb27" data-code-line-numbers="4-5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> ces_data,</span>
<span id="cb27-2"><a href="#cb27-2"></a>       <span class="fu">aes</span>(<span class="at">x =</span> PolBurdSc)) <span class="sc">+</span></span>
<span id="cb27-3"><a href="#cb27-3"></a>  <span class="fu">geom_histogram</span>(<span class="at">fill =</span> <span class="st">'red'</span>) <span class="sc">+</span> </span>
<span id="cb27-4"><a href="#cb27-4"></a>  <span class="fu">xlab</span>(<span class="st">"Pollution Burden Score"</span>) <span class="sc">+</span></span>
<span id="cb27-5"><a href="#cb27-5"></a>  <span class="fu">ggtitle</span>(<span class="st">"Histogram of Pollution Burden Score"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="07_visualizing-data_files/figure-revealjs/unnamed-chunk-26-1.png" width="384"></p>
</div>
</div>
</div>
</div>
</section>
<section id="subsetting-our-data" class="slide level2 smaller">
<h2>Subsetting our data</h2>
<p>Recall we can subset our data using the <code>dplyr::filter()</code> function. Note the use of the <code>%in%</code> operator here:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb28-2"><a href="#cb28-2"></a>sfba_counties <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Alameda"</span>, <span class="st">"Contra Costa"</span>, <span class="st">"Marin"</span>, <span class="st">"Napa"</span>, <span class="st">"San Francisco"</span>,</span>
<span id="cb28-3"><a href="#cb28-3"></a>                   <span class="st">"San Mateo"</span>, <span class="st">"Santa Clara"</span>, <span class="st">"Sonoma"</span>, <span class="st">"Solano"</span>)</span>
<span id="cb28-4"><a href="#cb28-4"></a><span class="co"># require county to be in SF Bay Area</span></span>
<span id="cb28-5"><a href="#cb28-5"></a>ces_sfba <span class="ot">&lt;-</span> ces_data <span class="sc">|&gt;</span></span>
<span id="cb28-6"><a href="#cb28-6"></a>  <span class="fu">filter</span>(County <span class="sc">%in%</span> sfba_counties)</span>
<span id="cb28-7"><a href="#cb28-7"></a><span class="fu">head</span>(ces_sfba)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       Tract   ZIP      County     ApproxLoc TotPop19   CIscore  CIscoreP
1 6085509201 94043 Santa Clara Mountain View     5524 12.788826 19.919314
2 6085510500 94022 Santa Clara     Los Altos     4541  4.122372  1.714574
3 6085509401 94306 Santa Clara     Palo Alto     3806 10.481222 14.044377
4 6085509303 94043 Santa Clara Mountain View     3563 14.221995 23.562784
5 6085503306 95122 Santa Clara      San Jose     4373 23.715224 45.978316
6 6085503211 95121 Santa Clara      San Jose     4592 23.614422 45.688351
       Ozone   OzoneP    PM2_5  PM2_5_P  DieselPM DieselPM_P Pesticide
1 0.03716809 14.92222 8.232423 16.91350 0.6305833   93.91413         0
2 0.03624400 13.61543 8.095511 14.76042 0.1860035   59.51462         0
3 0.03624400 13.61543 8.181223 16.10454 0.4533547   87.66646         0
4 0.03624400 13.61543 8.317675 18.56876 0.4539156   87.71624         0
5 0.04125212 24.87866 8.835374 33.69011 0.1114884   40.72184         0
6 0.04125212 24.87866 8.768682 31.98507 0.2847047   74.71064         0
  PesticideP  Tox_Rel Tox_Rel_P   Traffic TrafficP DrinkWat DrinkWatP     Lead
1          0 169.3650  31.44536 1646.1402  81.0375 428.4671  49.50668 21.88574
2          0 195.1733  34.27107 1016.7001  59.0000 399.4475  43.36206 29.89372
3          0 152.8043  29.56989 1293.1250  72.0750 509.0032  61.39628 41.26271
4          0 146.4173  28.78220  912.1028  52.4875 428.4671  49.50668 32.28908
5          0 143.2963  28.51963 1584.2238  79.7625 291.5255  22.74260 47.27127
6          0 147.3003  28.94474 3469.8027  97.6875 291.5255  22.74260 39.04452
    Lead_P Cleanup CleanupP GWThreat GWThreatP HazWaste HazWasteP ImpWatBod
1 14.45495   65.50 97.79769   101.80  96.77901     0.58  73.60688         5
2 23.79332    9.35 59.07055    10.00  47.43483     0.30  50.13898         0
3 38.95400   10.40 62.03807     6.00  35.01577     0.30  50.13898         0
4 26.96912   40.95 93.76633    39.05  85.55537     0.08  10.54931         4
5 47.62445    3.50 33.87458     0.00   0.00000     0.15  26.67108         0
6 35.68998    2.45 27.93953     5.75  32.77436     0.12  20.31767         3
  ImpWatBodP SolWaste SolWasteP PollBurd PolBurdSc PolBurdP Asthma    AsthmaP
1   51.21798        0         0 46.47630  5.674747 60.89608  19.22  8.1879362
2    0.00000        0         0 31.13603  3.801704 20.13690   7.95  0.2367896
3    0.00000        0         0 36.42799  4.447850 32.86870  12.05  1.6076770
4   43.78412        0         0 38.71417  4.726992 39.34039  19.77  9.0353938
5    0.00000        0         0 27.19803  3.320874 12.39577  57.49 66.1764706
6   33.15834        0         0 33.99926  4.151303 26.57125  39.81 41.3010967
  LowBirtWt  LowBirWP Cardiovas CardiovasP Educatn   EducatP Ling_Isol
1      3.97 25.904542      8.52 17.3354935     2.5  8.415591       4.6
2      3.16 10.944316      4.43  0.3614158     2.9 10.313845       2.7
3      3.83 22.645625      6.26  4.4366899     7.9 33.890154      10.7
4      2.72  6.209905      8.77 19.2048853    11.0 45.178436      14.7
5      5.88 72.850911     12.25 48.2178465    40.0 89.977221      16.5
6      5.15 56.351039     10.14 30.9322034    28.2 77.866363      25.3
  Ling_IsolP Poverty PovertyP Unempl   UnemplP HousBurd HousBurdP  PopChar
1   35.33631    14.7 21.26884    4.1 32.274857     14.2  34.24588 21.72548
2   21.42374     7.4  4.91206    4.2 33.576262     10.3  15.06971 10.45331
3   64.40655    11.8 14.27136    4.8 41.840187     12.3  24.94297 22.71679
4   76.64095    20.3 34.92462    2.2  7.769391     21.3  68.11153 29.00419
5   80.38977    26.2 46.82161    7.7 73.412285     27.4  85.75412 68.84304
6   92.61064    18.7 31.25628    8.7 79.724102     17.7  52.61090 54.83755
  PopCharSc  PopCharP Child_10 Pop_10_64 Elderly65 Hispanic   White AfricanAm
1  2.253638  9.543621  10.7350   79.8878    9.3773   7.1687 52.4982    8.0920
2  1.084349  1.159859  11.9577   60.8897   27.1526   2.1801 63.5543    0.2202
3  2.356469 10.602622  13.8466   79.4009    6.7525  15.1077 33.9201    3.4419
4  3.008677 18.557741   9.7390   70.5866   19.6744  15.2961 36.4861    4.2661
5  7.141261 78.618255  10.4276   75.8290   13.7434  59.5472  2.7212    1.1434
6  5.688436 57.387796   9.3859   73.6280   16.9861  28.2012 11.0409    1.4373
  NativeAm OtherMult Shape_Leng Shape_Area    AAPI Unempl_Rate_Factor
1   0.2715    3.4938   5862.187  1581581.5 28.4757              (0,5]
2   0.0000    3.6336   7610.539  2592144.4 30.4118              (0,5]
3   0.0000    4.1776   3401.365   666126.6 43.3526              (0,5]
4   0.0000    8.4199   3211.309   575854.6 35.5319              (0,5]
5   0.2058    1.0748   5951.985  1670328.7 35.3076             (5,10]
6   0.0000    2.6568   4245.476  1076751.1 56.6638             (5,10]</code></pre>
</div>
</div>
</section>
<section id="scatter-plots-with-ggplot2" class="slide level2 smaller">
<h2>Scatter plots with <code>ggplot2</code></h2>
<p>We can easily add another <strong>aesthetic</strong> and change the <strong>shape</strong> to get a multivariate visualization:</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb30" data-code-line-numbers="2-3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> ces_sfba,</span>
<span id="cb30-2"><a href="#cb30-2"></a>       <span class="fu">aes</span>(<span class="at">x =</span> PolBurdSc, <span class="at">y =</span> PopCharSc)) <span class="sc">+</span></span>
<span id="cb30-3"><a href="#cb30-3"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="07_visualizing-data_files/figure-revealjs/unnamed-chunk-29-1.png" width="384"></p>
</div>
</div>
</div>
</div>
</section>
<section id="customizing-our-scatter-plot" class="slide level2 smaller">
<h2>Customizing our scatter plot</h2>
<p>We can similarly customize our scatter plots</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb31" data-code-line-numbers="3-6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> ces_sfba,</span>
<span id="cb31-2"><a href="#cb31-2"></a>       <span class="fu">aes</span>(<span class="at">x =</span> PolBurdSc, <span class="at">y =</span> PopCharSc)) <span class="sc">+</span></span>
<span id="cb31-3"><a href="#cb31-3"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">'red'</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>)  <span class="sc">+</span></span>
<span id="cb31-4"><a href="#cb31-4"></a>  <span class="fu">xlab</span>(<span class="st">"Pollution Burden Score"</span>) <span class="sc">+</span></span>
<span id="cb31-5"><a href="#cb31-5"></a>  <span class="fu">ylab</span>(<span class="st">"Population Characteristic Score"</span>) <span class="sc">+</span></span>
<span id="cb31-6"><a href="#cb31-6"></a>  <span class="fu">ggtitle</span>(<span class="st">"Scatterplot of CalEnviroScreen Scores"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="07_visualizing-data_files/figure-revealjs/unnamed-chunk-31-1.png" width="384"></p>
</div>
</div>
</div>
</div>
</section>
<section id="beyond-two-dimensions" class="slide level2 smaller">
<h2>Beyond two dimensions</h2>
<p>We can add even more mappings between aesthetics and variables to explore multivariate relationships:</p>
<div class="columns">
<div class="column" style="width:55%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb32" data-code-line-numbers="2-3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> ces_sfba,</span>
<span id="cb32-2"><a href="#cb32-2"></a>       <span class="fu">aes</span>(<span class="at">x =</span> PolBurdSc, <span class="at">y =</span> PopCharSc, <span class="at">color =</span> County)) <span class="sc">+</span></span>
<span id="cb32-3"><a href="#cb32-3"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>)  <span class="sc">+</span></span>
<span id="cb32-4"><a href="#cb32-4"></a>  <span class="fu">xlab</span>(<span class="st">"Pollution Burden Score"</span>) <span class="sc">+</span></span>
<span id="cb32-5"><a href="#cb32-5"></a>  <span class="fu">ylab</span>(<span class="st">"Population Characteristic Score"</span>) <span class="sc">+</span></span>
<span id="cb32-6"><a href="#cb32-6"></a>  <span class="fu">ggtitle</span>(<span class="st">"Scatterplot of CalEnviroScreen Scores"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:45%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="07_visualizing-data_files/figure-revealjs/unnamed-chunk-33-1.png" width="384"></p>
</div>
</div>
</div>
</div>
</section></section>
<section>
<section id="general-principles-for-data-visualization" class="title-slide slide level1 center">
<h1>General principles for data visualization</h1>

</section>
<section id="customizing-our-scatter-plot-1" class="slide level2 smaller">
<h2>Customizing our scatter plot</h2>
<p>We can similarly customize our scatter plots</p>
<div class="columns">
<div class="column" style="width:50%;">
<p><strong>Avoid:</strong></p>
<ul>
<li>3D plots</li>
<li>Deceptive axes</li>
<li>Excessive labels</li>
<li>Excessive/bad coloring</li>
<li>Fancy shading/effects</li>
<li>Bad variable/axis names</li>
<li>Unreadable labels</li>
<li>Overloaded with information</li>
</ul>
</div><div class="column" style="width:50%;">
<p><strong>Strive for:</strong></p>
<ul>
<li>Simple, clean graphics</li>
<li>Neat and human readable text</li>
<li>Appropriate data range (bar charts should <em>always</em> start from 0!)</li>
<li>Consistent intervals</li>
<li>Roughly ~6 colors or less</li>
<li>Size figures appropriately</li>
</ul>
</div>
</div>
</section>
<section id="some-misleading-visualizations" class="slide level2">
<h2>Some misleading visualizations</h2>
<p><img src="images/bad1.jpg" height="450"></p>
<p><strong>Avoid:</strong> Pie charts! Eugh! The proportions are completely off!</p>
</section>
<section id="some-misleading-visualizations-1" class="slide level2">
<h2>Some misleading visualizations</h2>
<p><img src="images/bad2.jpg" height="450"></p>
<p><strong>Avoid:</strong> Pie charts! Eugh! Percents don’t add up!</p>
</section>
<section id="some-misleading-visualizations-2" class="slide level2">
<h2>Some misleading visualizations</h2>
<p><img src="images/bad3.png" height="450"></p>
<p><strong>Avoid:</strong> 3d bar charts?!</p>
</section>
<section id="some-misleading-visualizations-3" class="slide level2">
<h2>Some misleading visualizations</h2>
<p><img src="images/bad4.png" height="450"></p>
<p><strong>Avoid:</strong> Bad use of color</p>
</section>
<section id="some-misleading-visualizations-4" class="slide level2">
<h2>Some misleading visualizations</h2>
<p><img src="images/bad5.jpg" height="450"></p>
<p><strong>Avoid:</strong> Bad axis, lack of information, 3D bar chart</p>
</section>
<section id="some-misleading-visualizations-5" class="slide level2">
<h2>Some misleading visualizations</h2>
<p><img src="images/bad6.jpg" height="450"></p>
<p><strong>Avoid:</strong> Four numbers displayed as a cluttered chart, terrible labels, bad axis range</p>
</section>
<section id="some-misleading-visualizations-6" class="slide level2">
<h2>Some misleading visualizations</h2>
<p><img src="images/bad7.jpg" height="450"></p>
<p><strong>Avoid:</strong> Deceptively flipped y-axis! (and excessive color)</p>
</section>
<section id="some-misleading-visualizations-7" class="slide level2">
<h2>Some misleading visualizations</h2>
<p><img src="images/bad8.jpg" height="450"></p>
<p>(This was presented in Congress!)]</p>
<p><strong>Avoid:</strong> Two axes in a single plot, bad axis range</p>
</section>
<section id="some-misleading-visualizations-8" class="slide level2">
<h2>Some misleading visualizations</h2>
<p><img src="images/bad9.png" height="450"></p>
<p><strong>Avoid:</strong> Deceptive axis range (should start at 0)</p>
</section>
<section id="some-misleading-visualizations-9" class="slide level2">
<h2>Some misleading visualizations</h2>
<p><img src="images/bad10.png" height="450"></p>
<p>(From the Gates Foundation!)</p>
<p><strong>Avoid:</strong> Inconsistent x-axis intervals</p>
</section>
<section id="ggplot-cheatsheet" class="slide level2">
<h2>ggplot cheatsheet</h2>
<ul>
<li>Axes: <code>xlim()</code>, <code>ylim()</code></li>
<li>Legends: within initial <code>aes()</code>, edit within <code>theme()</code> or <code>guides()</code></li>
<li><code>geom_point()</code>, <code>geom_line()</code>, <code>geom_histogram()</code>, <code>geom_bar()</code>, <code>geom_boxplot()</code>, <code>geom_text()</code></li>
<li><code>facet_grid()</code>, <code>facet_wrap()</code> for faceting</li>
<li><code>labs()</code> for labels</li>
<li><code>theme_bw()</code> to make things look nicer</li>
<li>Graphical parameters: <code>color</code> for color, <code>alpha</code> for opacity, <code>lwd</code>/<code>size</code> for thickness, <code>shape</code> for shape, <code>fill</code> for interior color, …</li>
</ul>
<p>Find more tips <a href="https://github.com/rstudio/cheatsheets/raw/master/data-visualization.pdf">here!</a></p>
</section>
<section id="lab-04" class="slide level2">
<h2>Lab 04</h2>
<p>In this lab, we’ll practice data visualization with base R and <code>ggplot2</code>.</p>

<div class="footer footer-default">

</div>
</section></section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: false,

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>