{
  "hash": "d9b70dd14f6d2c95e5c0cea106e3b0a2",
  "result": {
    "markdown": "---\ntitle: \"MATH167R: Data visualization\"\nauthor: \"Peter Gao\"\nformat: \n  revealjs:\n    theme: [./slides.scss, ../theme.scss]\neditor: visual\n---\n\n\n## Warm-up\n\n1.  What does the following code do?\n\n\n    ::: {.cell}\n    \n    ```{.r .cell-code}\n    library(palmerpenguins)\n    library(ggplot2)\n    data(penguins)\n    ggplot(penguins, \n           aes(x = flipper_length_mm, \n               y = body_mass_g, \n               color = species)) + \n      geom_point()\n    ```\n    :::\n\n\n## Warm-up\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(palmerpenguins)\nlibrary(ggplot2)\ndata(penguins)\nggplot(penguins, \n       aes(x = flipper_length_mm, \n           y = body_mass_g, \n           color = species)) + \n  geom_point()\n```\n\n::: {.cell-output-display}\n![](08_advanced-visualization_files/figure-revealjs/unnamed-chunk-2-1.png){width=960}\n:::\n:::\n\n\n## Overview of today\n\n-   Advanced data visualization\n-   Data transformation for visualization\n\n# Advanced Data Visualization\n\n## Example: Egg production in the United States\n\nToday we'll start using the [The Humane League's US Egg Production dataset](https://thehumaneleague.org/article/E008R01-us-egg-production-data), which we can load using the following code:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\neggproduction  <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2023/2023-04-11/egg-production.csv')\nhead(eggproduction)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 6\n  observed_month prod_type     prod_process   n_hens     n_eggs source          \n  <date>         <chr>         <chr>           <dbl>      <dbl> <chr>           \n1 2016-07-31     hatching eggs all          57975000 1147000000 ChicEggs-09-23-…\n2 2016-08-31     hatching eggs all          57595000 1142700000 ChicEggs-10-21-…\n3 2016-09-30     hatching eggs all          57161000 1093300000 ChicEggs-11-22-…\n4 2016-10-31     hatching eggs all          56857000 1126700000 ChicEggs-12-23-…\n5 2016-11-30     hatching eggs all          57116000 1096600000 ChicEggs-01-24-…\n6 2016-12-31     hatching eggs all          57750000 1132900000 ChicEggs-02-28-…\n```\n:::\n:::\n\n\n## Data Dictionary {.smaller}\n\n::: {style=\"height:500px;overflow:auto;\"}\n| variable       | class     | description                                                                                                                                             |\n|:----------|:----------|:--------------------------------------------------|\n| observed_month | double    | Month in which report observations are collected,Dates are recorded in ISO 8601 format YYYY-MM-DD                                                       |\n| prod_type      | character | type of egg product: hatching, table eggs                                                                                                               |\n| prod_process   | character | type of production process and housing: cage-free (organic), cage-free (non-organic), all. The value 'all' includes cage-free and conventional housing. |\n| n_hens         | double    | number of hens produced by hens for a given month-type-process combo                                                                                    |\n| n_eggs         | double    | number of eggs producing eggs for a given month-type-process combo                                                                                      |\n| source         | character | Original USDA report from which data are sourced. Values correspond to titles of PDF reports. Date of report is included in title.                      |\n:::\n\n## Building up a visualization\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"2\"}\neggproduction |> \n  filter(prod_type == \"table eggs\") \n```\n:::\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 165 × 6\n   observed_month prod_type  prod_process    n_hens     n_eggs source           \n   <date>         <chr>      <chr>            <dbl>      <dbl> <chr>            \n 1 2016-07-31     table eggs all          299669000 7350500000 ChicEggs-09-23-2…\n 2 2016-08-31     table eggs all          300917000 7409000000 ChicEggs-10-21-2…\n 3 2016-09-30     table eggs all          303270000 7204200000 ChicEggs-11-22-2…\n 4 2016-10-31     table eggs all          305852000 7534700000 ChicEggs-12-23-2…\n 5 2016-11-30     table eggs all          310728000 7468500000 ChicEggs-01-24-2…\n 6 2016-12-31     table eggs all          318820000 7950400000 ChicEggs-02-28-2…\n 7 2017-01-31     table eggs all          318109000 7903500000 ChicEggs-03-21-2…\n 8 2017-02-28     table eggs all          316807000 7079800000 ChicEggs-04-21-2…\n 9 2017-03-31     table eggs all          316147000 7842000000 ChicEggs-05-22-2…\n10 2017-04-30     table eggs all          314918000 7545900000 ChicEggs-06-23-2…\n# ℹ 155 more rows\n```\n:::\n:::\n\n\n## Building up a visualization\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"3\"}\neggproduction |> \n  filter(prod_type == \"table eggs\") |>\n  ggplot(aes(x = observed_month, y = n_eggs))\n```\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n![](08_advanced-visualization_files/figure-revealjs/unnamed-chunk-7-1.png){width=768}\n:::\n:::\n\n\n## Building up a visualization\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"3-4\"}\neggproduction |> \n  filter(prod_type == \"table eggs\") |>\n  ggplot(aes(x = observed_month, y = n_eggs)) +\n  geom_point()\n```\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n![](08_advanced-visualization_files/figure-revealjs/unnamed-chunk-9-1.png){width=768}\n:::\n:::\n\n\n## Building up a visualization\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"3-4\"}\neggproduction |> \n  filter(prod_type == \"table eggs\") |>\n  ggplot(aes(x = observed_month, y = n_eggs, color = prod_process)) +\n  geom_point()\n```\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n![](08_advanced-visualization_files/figure-revealjs/unnamed-chunk-11-1.png){width=768}\n:::\n:::\n\n\n## Building up a visualization\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"3-4\"}\neggproduction |> \n  filter(prod_type == \"table eggs\") |>\n  ggplot(aes(x = observed_month, y = n_eggs, color = prod_process)) +\n  geom_line()\n```\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n![](08_advanced-visualization_files/figure-revealjs/unnamed-chunk-13-1.png){width=768}\n:::\n:::\n\n\n## Labels and legends\n\n`theme` can be added to change options including axis labels and legend position\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"5-6\"}\neggproduction |> \n  filter(prod_type == \"table eggs\") |>\n  ggplot(aes(x = observed_month, y = n_eggs, color = prod_process)) +\n  geom_line() +\n  xlab(\"Date\") + ylab(\"# eggs\") +\n  theme(legend.position = \"bottom\")\n```\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n![](08_advanced-visualization_files/figure-revealjs/unnamed-chunk-15-1.png){width=768}\n:::\n:::\n\n\n## Colors\n\n`scale_color_viridis_d` swaps colors to the `viridis` discrete color palette, which is optimized for accessibility.\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"6\"}\neggproduction |> \n  filter(prod_type == \"table eggs\") |>\n  ggplot(aes(x = observed_month, y = n_eggs, color = prod_process)) +\n  geom_line() +\n  xlab(\"Date\") + ylab(\"# eggs\") +\n  scale_color_viridis_d() +\n  theme(legend.position = \"bottom\")\n```\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n![](08_advanced-visualization_files/figure-revealjs/unnamed-chunk-17-1.png){width=768}\n:::\n:::\n\n\n## Remember!\n\nLearning `ggplot` takes a lot of time--use your peers, me, and the internet as a resource!\n\n**General strategy**\n\n1.  Clean and tidy data into the appropriate format.\n\n2.  Map **variables** to **aesthetics**.\n\n3.  Use `geom_` functions to draw **markings** with the appropriate aesthetics.\n\n4.  Add labels and titles with `xlab`, `ylab`, and `ggtitle`.\n\n5.  Adjust text size, legend position with `theme`.\n\n## Adding even more dimensions\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"4\"}\neggproduction |> \n  ggplot(aes(x = observed_month, y = n_eggs, color = prod_process)) +\n  geom_line() +\n  facet_wrap(~prod_type) +\n  xlab(\"Date\") + ylab(\"# eggs\") +\n  scale_color_viridis_d() +\n  theme(legend.position = \"bottom\")\n```\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n![](08_advanced-visualization_files/figure-revealjs/unnamed-chunk-19-1.png){width=768}\n:::\n:::\n\n\n# Manipulating data for visualization\n\n## US population data, 2010-2020\n\n\n::: {.cell}\n\n```{.r .cell-code}\nstate_population <- readr::read_csv(\"https://www2.census.gov/programs-surveys/popest/datasets/2010-2020/national/totals/nst-est2020.csv\")\n\n# code to print the data\nlibrary(knitr)\nkable(state_population, digits = 3, row.names = F) |>\n  kableExtra::kable_styling(\"striped\", full_width = T) |> \n  kableExtra::scroll_box(height = \"560px\")\n```\n:::\n\n\n## US population data, 2010-2020\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<div style=\"border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:560px; \"><table class=\"table table-striped\" style=\"margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;position: sticky; top:0; background-color: #FFFFFF;\"> SUMLEV </th>\n   <th style=\"text-align:left;position: sticky; top:0; background-color: #FFFFFF;\"> REGION </th>\n   <th style=\"text-align:left;position: sticky; top:0; background-color: #FFFFFF;\"> DIVISION </th>\n   <th style=\"text-align:left;position: sticky; top:0; background-color: #FFFFFF;\"> STATE </th>\n   <th style=\"text-align:left;position: sticky; top:0; background-color: #FFFFFF;\"> NAME </th>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> CENSUS2010POP </th>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> ESTIMATESBASE2010 </th>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> POPESTIMATE2010 </th>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> POPESTIMATE2011 </th>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> POPESTIMATE2012 </th>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> POPESTIMATE2013 </th>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> POPESTIMATE2014 </th>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> POPESTIMATE2015 </th>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> POPESTIMATE2016 </th>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> POPESTIMATE2017 </th>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> POPESTIMATE2018 </th>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> POPESTIMATE2019 </th>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> POPESTIMATE042020 </th>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> POPESTIMATE2020 </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> 010 </td>\n   <td style=\"text-align:left;\"> 0 </td>\n   <td style=\"text-align:left;\"> 0 </td>\n   <td style=\"text-align:left;\"> 00 </td>\n   <td style=\"text-align:left;\"> United States </td>\n   <td style=\"text-align:right;\"> 308745538 </td>\n   <td style=\"text-align:right;\"> 308758105 </td>\n   <td style=\"text-align:right;\"> 309327143 </td>\n   <td style=\"text-align:right;\"> 311583481 </td>\n   <td style=\"text-align:right;\"> 313877662 </td>\n   <td style=\"text-align:right;\"> 316059947 </td>\n   <td style=\"text-align:right;\"> 318386329 </td>\n   <td style=\"text-align:right;\"> 320738994 </td>\n   <td style=\"text-align:right;\"> 323071755 </td>\n   <td style=\"text-align:right;\"> 325122128 </td>\n   <td style=\"text-align:right;\"> 326838199 </td>\n   <td style=\"text-align:right;\"> 328329953 </td>\n   <td style=\"text-align:right;\"> 329398742 </td>\n   <td style=\"text-align:right;\"> 329484123 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 020 </td>\n   <td style=\"text-align:left;\"> 1 </td>\n   <td style=\"text-align:left;\"> 0 </td>\n   <td style=\"text-align:left;\"> 00 </td>\n   <td style=\"text-align:left;\"> Northeast Region </td>\n   <td style=\"text-align:right;\"> 55317240 </td>\n   <td style=\"text-align:right;\"> 55318414 </td>\n   <td style=\"text-align:right;\"> 55380764 </td>\n   <td style=\"text-align:right;\"> 55608318 </td>\n   <td style=\"text-align:right;\"> 55782661 </td>\n   <td style=\"text-align:right;\"> 55912775 </td>\n   <td style=\"text-align:right;\"> 56021339 </td>\n   <td style=\"text-align:right;\"> 56052790 </td>\n   <td style=\"text-align:right;\"> 56063777 </td>\n   <td style=\"text-align:right;\"> 56083383 </td>\n   <td style=\"text-align:right;\"> 56084543 </td>\n   <td style=\"text-align:right;\"> 56002934 </td>\n   <td style=\"text-align:right;\"> 55924275 </td>\n   <td style=\"text-align:right;\"> 55849869 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 020 </td>\n   <td style=\"text-align:left;\"> 2 </td>\n   <td style=\"text-align:left;\"> 0 </td>\n   <td style=\"text-align:left;\"> 00 </td>\n   <td style=\"text-align:left;\"> Midwest Region </td>\n   <td style=\"text-align:right;\"> 66927001 </td>\n   <td style=\"text-align:right;\"> 66929737 </td>\n   <td style=\"text-align:right;\"> 66975328 </td>\n   <td style=\"text-align:right;\"> 67164092 </td>\n   <td style=\"text-align:right;\"> 67348275 </td>\n   <td style=\"text-align:right;\"> 67576524 </td>\n   <td style=\"text-align:right;\"> 67765576 </td>\n   <td style=\"text-align:right;\"> 67885682 </td>\n   <td style=\"text-align:right;\"> 68018175 </td>\n   <td style=\"text-align:right;\"> 68160342 </td>\n   <td style=\"text-align:right;\"> 68263019 </td>\n   <td style=\"text-align:right;\"> 68340091 </td>\n   <td style=\"text-align:right;\"> 68357895 </td>\n   <td style=\"text-align:right;\"> 68316744 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 020 </td>\n   <td style=\"text-align:left;\"> 3 </td>\n   <td style=\"text-align:left;\"> 0 </td>\n   <td style=\"text-align:left;\"> 00 </td>\n   <td style=\"text-align:left;\"> South Region </td>\n   <td style=\"text-align:right;\"> 114555744 </td>\n   <td style=\"text-align:right;\"> 114563042 </td>\n   <td style=\"text-align:right;\"> 114869421 </td>\n   <td style=\"text-align:right;\"> 116019483 </td>\n   <td style=\"text-align:right;\"> 117264196 </td>\n   <td style=\"text-align:right;\"> 118397213 </td>\n   <td style=\"text-align:right;\"> 119666248 </td>\n   <td style=\"text-align:right;\"> 121049223 </td>\n   <td style=\"text-align:right;\"> 122419547 </td>\n   <td style=\"text-align:right;\"> 123611036 </td>\n   <td style=\"text-align:right;\"> 124649156 </td>\n   <td style=\"text-align:right;\"> 125686544 </td>\n   <td style=\"text-align:right;\"> 126494232 </td>\n   <td style=\"text-align:right;\"> 126662754 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 020 </td>\n   <td style=\"text-align:left;\"> 4 </td>\n   <td style=\"text-align:left;\"> 0 </td>\n   <td style=\"text-align:left;\"> 00 </td>\n   <td style=\"text-align:left;\"> West Region </td>\n   <td style=\"text-align:right;\"> 71945553 </td>\n   <td style=\"text-align:right;\"> 71946912 </td>\n   <td style=\"text-align:right;\"> 72101630 </td>\n   <td style=\"text-align:right;\"> 72791588 </td>\n   <td style=\"text-align:right;\"> 73482530 </td>\n   <td style=\"text-align:right;\"> 74173435 </td>\n   <td style=\"text-align:right;\"> 74933166 </td>\n   <td style=\"text-align:right;\"> 75751299 </td>\n   <td style=\"text-align:right;\"> 76570256 </td>\n   <td style=\"text-align:right;\"> 77267367 </td>\n   <td style=\"text-align:right;\"> 77841481 </td>\n   <td style=\"text-align:right;\"> 78300384 </td>\n   <td style=\"text-align:right;\"> 78622340 </td>\n   <td style=\"text-align:right;\"> 78654756 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 040 </td>\n   <td style=\"text-align:left;\"> 3 </td>\n   <td style=\"text-align:left;\"> 6 </td>\n   <td style=\"text-align:left;\"> 01 </td>\n   <td style=\"text-align:left;\"> Alabama </td>\n   <td style=\"text-align:right;\"> 4779736 </td>\n   <td style=\"text-align:right;\"> 4780118 </td>\n   <td style=\"text-align:right;\"> 4785514 </td>\n   <td style=\"text-align:right;\"> 4799642 </td>\n   <td style=\"text-align:right;\"> 4816632 </td>\n   <td style=\"text-align:right;\"> 4831586 </td>\n   <td style=\"text-align:right;\"> 4843737 </td>\n   <td style=\"text-align:right;\"> 4854803 </td>\n   <td style=\"text-align:right;\"> 4866824 </td>\n   <td style=\"text-align:right;\"> 4877989 </td>\n   <td style=\"text-align:right;\"> 4891628 </td>\n   <td style=\"text-align:right;\"> 4907965 </td>\n   <td style=\"text-align:right;\"> 4920706 </td>\n   <td style=\"text-align:right;\"> 4921532 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 040 </td>\n   <td style=\"text-align:left;\"> 4 </td>\n   <td style=\"text-align:left;\"> 9 </td>\n   <td style=\"text-align:left;\"> 02 </td>\n   <td style=\"text-align:left;\"> Alaska </td>\n   <td style=\"text-align:right;\"> 710231 </td>\n   <td style=\"text-align:right;\"> 710246 </td>\n   <td style=\"text-align:right;\"> 713982 </td>\n   <td style=\"text-align:right;\"> 722349 </td>\n   <td style=\"text-align:right;\"> 730810 </td>\n   <td style=\"text-align:right;\"> 737626 </td>\n   <td style=\"text-align:right;\"> 737075 </td>\n   <td style=\"text-align:right;\"> 738430 </td>\n   <td style=\"text-align:right;\"> 742575 </td>\n   <td style=\"text-align:right;\"> 740983 </td>\n   <td style=\"text-align:right;\"> 736624 </td>\n   <td style=\"text-align:right;\"> 733603 </td>\n   <td style=\"text-align:right;\"> 732074 </td>\n   <td style=\"text-align:right;\"> 731158 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 040 </td>\n   <td style=\"text-align:left;\"> 4 </td>\n   <td style=\"text-align:left;\"> 8 </td>\n   <td style=\"text-align:left;\"> 04 </td>\n   <td style=\"text-align:left;\"> Arizona </td>\n   <td style=\"text-align:right;\"> 6392017 </td>\n   <td style=\"text-align:right;\"> 6392292 </td>\n   <td style=\"text-align:right;\"> 6407342 </td>\n   <td style=\"text-align:right;\"> 6473416 </td>\n   <td style=\"text-align:right;\"> 6556344 </td>\n   <td style=\"text-align:right;\"> 6634690 </td>\n   <td style=\"text-align:right;\"> 6732873 </td>\n   <td style=\"text-align:right;\"> 6832810 </td>\n   <td style=\"text-align:right;\"> 6944767 </td>\n   <td style=\"text-align:right;\"> 7048088 </td>\n   <td style=\"text-align:right;\"> 7164228 </td>\n   <td style=\"text-align:right;\"> 7291843 </td>\n   <td style=\"text-align:right;\"> 7393900 </td>\n   <td style=\"text-align:right;\"> 7421401 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 040 </td>\n   <td style=\"text-align:left;\"> 3 </td>\n   <td style=\"text-align:left;\"> 7 </td>\n   <td style=\"text-align:left;\"> 05 </td>\n   <td style=\"text-align:left;\"> Arkansas </td>\n   <td style=\"text-align:right;\"> 2915918 </td>\n   <td style=\"text-align:right;\"> 2916029 </td>\n   <td style=\"text-align:right;\"> 2921998 </td>\n   <td style=\"text-align:right;\"> 2941038 </td>\n   <td style=\"text-align:right;\"> 2952876 </td>\n   <td style=\"text-align:right;\"> 2960459 </td>\n   <td style=\"text-align:right;\"> 2968759 </td>\n   <td style=\"text-align:right;\"> 2979732 </td>\n   <td style=\"text-align:right;\"> 2991815 </td>\n   <td style=\"text-align:right;\"> 3003855 </td>\n   <td style=\"text-align:right;\"> 3012161 </td>\n   <td style=\"text-align:right;\"> 3020985 </td>\n   <td style=\"text-align:right;\"> 3029672 </td>\n   <td style=\"text-align:right;\"> 3030522 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 040 </td>\n   <td style=\"text-align:left;\"> 4 </td>\n   <td style=\"text-align:left;\"> 9 </td>\n   <td style=\"text-align:left;\"> 06 </td>\n   <td style=\"text-align:left;\"> California </td>\n   <td style=\"text-align:right;\"> 37253956 </td>\n   <td style=\"text-align:right;\"> 37254522 </td>\n   <td style=\"text-align:right;\"> 37319550 </td>\n   <td style=\"text-align:right;\"> 37636311 </td>\n   <td style=\"text-align:right;\"> 37944551 </td>\n   <td style=\"text-align:right;\"> 38253768 </td>\n   <td style=\"text-align:right;\"> 38586706 </td>\n   <td style=\"text-align:right;\"> 38904296 </td>\n   <td style=\"text-align:right;\"> 39149186 </td>\n   <td style=\"text-align:right;\"> 39337785 </td>\n   <td style=\"text-align:right;\"> 39437463 </td>\n   <td style=\"text-align:right;\"> 39437610 </td>\n   <td style=\"text-align:right;\"> 39418894 </td>\n   <td style=\"text-align:right;\"> 39368078 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 040 </td>\n   <td style=\"text-align:left;\"> 4 </td>\n   <td style=\"text-align:left;\"> 8 </td>\n   <td style=\"text-align:left;\"> 08 </td>\n   <td style=\"text-align:left;\"> Colorado </td>\n   <td style=\"text-align:right;\"> 5029196 </td>\n   <td style=\"text-align:right;\"> 5029319 </td>\n   <td style=\"text-align:right;\"> 5047539 </td>\n   <td style=\"text-align:right;\"> 5121900 </td>\n   <td style=\"text-align:right;\"> 5193660 </td>\n   <td style=\"text-align:right;\"> 5270774 </td>\n   <td style=\"text-align:right;\"> 5352637 </td>\n   <td style=\"text-align:right;\"> 5454328 </td>\n   <td style=\"text-align:right;\"> 5543844 </td>\n   <td style=\"text-align:right;\"> 5617421 </td>\n   <td style=\"text-align:right;\"> 5697155 </td>\n   <td style=\"text-align:right;\"> 5758486 </td>\n   <td style=\"text-align:right;\"> 5798266 </td>\n   <td style=\"text-align:right;\"> 5807719 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 040 </td>\n   <td style=\"text-align:left;\"> 1 </td>\n   <td style=\"text-align:left;\"> 1 </td>\n   <td style=\"text-align:left;\"> 09 </td>\n   <td style=\"text-align:left;\"> Connecticut </td>\n   <td style=\"text-align:right;\"> 3574097 </td>\n   <td style=\"text-align:right;\"> 3574151 </td>\n   <td style=\"text-align:right;\"> 3579173 </td>\n   <td style=\"text-align:right;\"> 3588632 </td>\n   <td style=\"text-align:right;\"> 3595211 </td>\n   <td style=\"text-align:right;\"> 3595792 </td>\n   <td style=\"text-align:right;\"> 3595697 </td>\n   <td style=\"text-align:right;\"> 3588561 </td>\n   <td style=\"text-align:right;\"> 3579830 </td>\n   <td style=\"text-align:right;\"> 3575324 </td>\n   <td style=\"text-align:right;\"> 3574561 </td>\n   <td style=\"text-align:right;\"> 3566022 </td>\n   <td style=\"text-align:right;\"> 3561494 </td>\n   <td style=\"text-align:right;\"> 3557006 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 040 </td>\n   <td style=\"text-align:left;\"> 3 </td>\n   <td style=\"text-align:left;\"> 5 </td>\n   <td style=\"text-align:left;\"> 10 </td>\n   <td style=\"text-align:left;\"> Delaware </td>\n   <td style=\"text-align:right;\"> 897934 </td>\n   <td style=\"text-align:right;\"> 897947 </td>\n   <td style=\"text-align:right;\"> 899647 </td>\n   <td style=\"text-align:right;\"> 907590 </td>\n   <td style=\"text-align:right;\"> 915518 </td>\n   <td style=\"text-align:right;\"> 924062 </td>\n   <td style=\"text-align:right;\"> 933131 </td>\n   <td style=\"text-align:right;\"> 942065 </td>\n   <td style=\"text-align:right;\"> 949989 </td>\n   <td style=\"text-align:right;\"> 957942 </td>\n   <td style=\"text-align:right;\"> 966985 </td>\n   <td style=\"text-align:right;\"> 976668 </td>\n   <td style=\"text-align:right;\"> 984899 </td>\n   <td style=\"text-align:right;\"> 986809 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 040 </td>\n   <td style=\"text-align:left;\"> 3 </td>\n   <td style=\"text-align:left;\"> 5 </td>\n   <td style=\"text-align:left;\"> 11 </td>\n   <td style=\"text-align:left;\"> District of Columbia </td>\n   <td style=\"text-align:right;\"> 601723 </td>\n   <td style=\"text-align:right;\"> 601767 </td>\n   <td style=\"text-align:right;\"> 605282 </td>\n   <td style=\"text-align:right;\"> 620290 </td>\n   <td style=\"text-align:right;\"> 635737 </td>\n   <td style=\"text-align:right;\"> 651559 </td>\n   <td style=\"text-align:right;\"> 663603 </td>\n   <td style=\"text-align:right;\"> 677014 </td>\n   <td style=\"text-align:right;\"> 687576 </td>\n   <td style=\"text-align:right;\"> 697079 </td>\n   <td style=\"text-align:right;\"> 704147 </td>\n   <td style=\"text-align:right;\"> 708253 </td>\n   <td style=\"text-align:right;\"> 712185 </td>\n   <td style=\"text-align:right;\"> 712816 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 040 </td>\n   <td style=\"text-align:left;\"> 3 </td>\n   <td style=\"text-align:left;\"> 5 </td>\n   <td style=\"text-align:left;\"> 12 </td>\n   <td style=\"text-align:left;\"> Florida </td>\n   <td style=\"text-align:right;\"> 18801310 </td>\n   <td style=\"text-align:right;\"> 18804589 </td>\n   <td style=\"text-align:right;\"> 18846143 </td>\n   <td style=\"text-align:right;\"> 19055607 </td>\n   <td style=\"text-align:right;\"> 19302016 </td>\n   <td style=\"text-align:right;\"> 19551678 </td>\n   <td style=\"text-align:right;\"> 19853880 </td>\n   <td style=\"text-align:right;\"> 20219111 </td>\n   <td style=\"text-align:right;\"> 20627237 </td>\n   <td style=\"text-align:right;\"> 20977089 </td>\n   <td style=\"text-align:right;\"> 21254926 </td>\n   <td style=\"text-align:right;\"> 21492056 </td>\n   <td style=\"text-align:right;\"> 21688239 </td>\n   <td style=\"text-align:right;\"> 21733312 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 040 </td>\n   <td style=\"text-align:left;\"> 3 </td>\n   <td style=\"text-align:left;\"> 5 </td>\n   <td style=\"text-align:left;\"> 13 </td>\n   <td style=\"text-align:left;\"> Georgia </td>\n   <td style=\"text-align:right;\"> 9687653 </td>\n   <td style=\"text-align:right;\"> 9688737 </td>\n   <td style=\"text-align:right;\"> 9712209 </td>\n   <td style=\"text-align:right;\"> 9803630 </td>\n   <td style=\"text-align:right;\"> 9903580 </td>\n   <td style=\"text-align:right;\"> 9975592 </td>\n   <td style=\"text-align:right;\"> 10071204 </td>\n   <td style=\"text-align:right;\"> 10183353 </td>\n   <td style=\"text-align:right;\"> 10308442 </td>\n   <td style=\"text-align:right;\"> 10417031 </td>\n   <td style=\"text-align:right;\"> 10519389 </td>\n   <td style=\"text-align:right;\"> 10628020 </td>\n   <td style=\"text-align:right;\"> 10695662 </td>\n   <td style=\"text-align:right;\"> 10710017 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 040 </td>\n   <td style=\"text-align:left;\"> 4 </td>\n   <td style=\"text-align:left;\"> 9 </td>\n   <td style=\"text-align:left;\"> 15 </td>\n   <td style=\"text-align:left;\"> Hawaii </td>\n   <td style=\"text-align:right;\"> 1360301 </td>\n   <td style=\"text-align:right;\"> 1360304 </td>\n   <td style=\"text-align:right;\"> 1364004 </td>\n   <td style=\"text-align:right;\"> 1379562 </td>\n   <td style=\"text-align:right;\"> 1395199 </td>\n   <td style=\"text-align:right;\"> 1408822 </td>\n   <td style=\"text-align:right;\"> 1415335 </td>\n   <td style=\"text-align:right;\"> 1422999 </td>\n   <td style=\"text-align:right;\"> 1428885 </td>\n   <td style=\"text-align:right;\"> 1425763 </td>\n   <td style=\"text-align:right;\"> 1423102 </td>\n   <td style=\"text-align:right;\"> 1415615 </td>\n   <td style=\"text-align:right;\"> 1410587 </td>\n   <td style=\"text-align:right;\"> 1407006 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 040 </td>\n   <td style=\"text-align:left;\"> 4 </td>\n   <td style=\"text-align:left;\"> 8 </td>\n   <td style=\"text-align:left;\"> 16 </td>\n   <td style=\"text-align:left;\"> Idaho </td>\n   <td style=\"text-align:right;\"> 1567582 </td>\n   <td style=\"text-align:right;\"> 1567658 </td>\n   <td style=\"text-align:right;\"> 1570819 </td>\n   <td style=\"text-align:right;\"> 1584272 </td>\n   <td style=\"text-align:right;\"> 1595910 </td>\n   <td style=\"text-align:right;\"> 1612053 </td>\n   <td style=\"text-align:right;\"> 1632248 </td>\n   <td style=\"text-align:right;\"> 1652495 </td>\n   <td style=\"text-align:right;\"> 1684036 </td>\n   <td style=\"text-align:right;\"> 1719745 </td>\n   <td style=\"text-align:right;\"> 1752074 </td>\n   <td style=\"text-align:right;\"> 1789060 </td>\n   <td style=\"text-align:right;\"> 1818238 </td>\n   <td style=\"text-align:right;\"> 1826913 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 040 </td>\n   <td style=\"text-align:left;\"> 2 </td>\n   <td style=\"text-align:left;\"> 3 </td>\n   <td style=\"text-align:left;\"> 17 </td>\n   <td style=\"text-align:left;\"> Illinois </td>\n   <td style=\"text-align:right;\"> 12830632 </td>\n   <td style=\"text-align:right;\"> 12831572 </td>\n   <td style=\"text-align:right;\"> 12840545 </td>\n   <td style=\"text-align:right;\"> 12867783 </td>\n   <td style=\"text-align:right;\"> 12883029 </td>\n   <td style=\"text-align:right;\"> 12895778 </td>\n   <td style=\"text-align:right;\"> 12885092 </td>\n   <td style=\"text-align:right;\"> 12859585 </td>\n   <td style=\"text-align:right;\"> 12821709 </td>\n   <td style=\"text-align:right;\"> 12779893 </td>\n   <td style=\"text-align:right;\"> 12724685 </td>\n   <td style=\"text-align:right;\"> 12667017 </td>\n   <td style=\"text-align:right;\"> 12615162 </td>\n   <td style=\"text-align:right;\"> 12587530 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 040 </td>\n   <td style=\"text-align:left;\"> 2 </td>\n   <td style=\"text-align:left;\"> 3 </td>\n   <td style=\"text-align:left;\"> 18 </td>\n   <td style=\"text-align:left;\"> Indiana </td>\n   <td style=\"text-align:right;\"> 6483802 </td>\n   <td style=\"text-align:right;\"> 6484050 </td>\n   <td style=\"text-align:right;\"> 6490555 </td>\n   <td style=\"text-align:right;\"> 6517250 </td>\n   <td style=\"text-align:right;\"> 6538989 </td>\n   <td style=\"text-align:right;\"> 6570575 </td>\n   <td style=\"text-align:right;\"> 6596019 </td>\n   <td style=\"text-align:right;\"> 6611442 </td>\n   <td style=\"text-align:right;\"> 6637898 </td>\n   <td style=\"text-align:right;\"> 6662068 </td>\n   <td style=\"text-align:right;\"> 6698481 </td>\n   <td style=\"text-align:right;\"> 6731010 </td>\n   <td style=\"text-align:right;\"> 6752183 </td>\n   <td style=\"text-align:right;\"> 6754953 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 040 </td>\n   <td style=\"text-align:left;\"> 2 </td>\n   <td style=\"text-align:left;\"> 4 </td>\n   <td style=\"text-align:left;\"> 19 </td>\n   <td style=\"text-align:left;\"> Iowa </td>\n   <td style=\"text-align:right;\"> 3046355 </td>\n   <td style=\"text-align:right;\"> 3046877 </td>\n   <td style=\"text-align:right;\"> 3050819 </td>\n   <td style=\"text-align:right;\"> 3066772 </td>\n   <td style=\"text-align:right;\"> 3076844 </td>\n   <td style=\"text-align:right;\"> 3093935 </td>\n   <td style=\"text-align:right;\"> 3110643 </td>\n   <td style=\"text-align:right;\"> 3122541 </td>\n   <td style=\"text-align:right;\"> 3133210 </td>\n   <td style=\"text-align:right;\"> 3143734 </td>\n   <td style=\"text-align:right;\"> 3149900 </td>\n   <td style=\"text-align:right;\"> 3159596 </td>\n   <td style=\"text-align:right;\"> 3164115 </td>\n   <td style=\"text-align:right;\"> 3163561 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 040 </td>\n   <td style=\"text-align:left;\"> 2 </td>\n   <td style=\"text-align:left;\"> 4 </td>\n   <td style=\"text-align:left;\"> 20 </td>\n   <td style=\"text-align:left;\"> Kansas </td>\n   <td style=\"text-align:right;\"> 2853118 </td>\n   <td style=\"text-align:right;\"> 2853120 </td>\n   <td style=\"text-align:right;\"> 2858266 </td>\n   <td style=\"text-align:right;\"> 2869677 </td>\n   <td style=\"text-align:right;\"> 2886024 </td>\n   <td style=\"text-align:right;\"> 2894306 </td>\n   <td style=\"text-align:right;\"> 2901861 </td>\n   <td style=\"text-align:right;\"> 2910717 </td>\n   <td style=\"text-align:right;\"> 2912977 </td>\n   <td style=\"text-align:right;\"> 2910892 </td>\n   <td style=\"text-align:right;\"> 2912748 </td>\n   <td style=\"text-align:right;\"> 2912635 </td>\n   <td style=\"text-align:right;\"> 2915024 </td>\n   <td style=\"text-align:right;\"> 2913805 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 040 </td>\n   <td style=\"text-align:left;\"> 3 </td>\n   <td style=\"text-align:left;\"> 6 </td>\n   <td style=\"text-align:left;\"> 21 </td>\n   <td style=\"text-align:left;\"> Kentucky </td>\n   <td style=\"text-align:right;\"> 4339367 </td>\n   <td style=\"text-align:right;\"> 4339330 </td>\n   <td style=\"text-align:right;\"> 4348464 </td>\n   <td style=\"text-align:right;\"> 4370817 </td>\n   <td style=\"text-align:right;\"> 4387865 </td>\n   <td style=\"text-align:right;\"> 4406906 </td>\n   <td style=\"text-align:right;\"> 4416992 </td>\n   <td style=\"text-align:right;\"> 4429126 </td>\n   <td style=\"text-align:right;\"> 4440306 </td>\n   <td style=\"text-align:right;\"> 4455590 </td>\n   <td style=\"text-align:right;\"> 4464273 </td>\n   <td style=\"text-align:right;\"> 4472345 </td>\n   <td style=\"text-align:right;\"> 4477899 </td>\n   <td style=\"text-align:right;\"> 4477251 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 040 </td>\n   <td style=\"text-align:left;\"> 3 </td>\n   <td style=\"text-align:left;\"> 7 </td>\n   <td style=\"text-align:left;\"> 22 </td>\n   <td style=\"text-align:left;\"> Louisiana </td>\n   <td style=\"text-align:right;\"> 4533372 </td>\n   <td style=\"text-align:right;\"> 4533500 </td>\n   <td style=\"text-align:right;\"> 4544635 </td>\n   <td style=\"text-align:right;\"> 4576244 </td>\n   <td style=\"text-align:right;\"> 4602067 </td>\n   <td style=\"text-align:right;\"> 4626040 </td>\n   <td style=\"text-align:right;\"> 4645938 </td>\n   <td style=\"text-align:right;\"> 4666998 </td>\n   <td style=\"text-align:right;\"> 4681346 </td>\n   <td style=\"text-align:right;\"> 4673673 </td>\n   <td style=\"text-align:right;\"> 4664450 </td>\n   <td style=\"text-align:right;\"> 4658285 </td>\n   <td style=\"text-align:right;\"> 4650984 </td>\n   <td style=\"text-align:right;\"> 4645318 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 040 </td>\n   <td style=\"text-align:left;\"> 1 </td>\n   <td style=\"text-align:left;\"> 1 </td>\n   <td style=\"text-align:left;\"> 23 </td>\n   <td style=\"text-align:left;\"> Maine </td>\n   <td style=\"text-align:right;\"> 1328361 </td>\n   <td style=\"text-align:right;\"> 1328354 </td>\n   <td style=\"text-align:right;\"> 1327651 </td>\n   <td style=\"text-align:right;\"> 1328473 </td>\n   <td style=\"text-align:right;\"> 1328094 </td>\n   <td style=\"text-align:right;\"> 1328543 </td>\n   <td style=\"text-align:right;\"> 1331217 </td>\n   <td style=\"text-align:right;\"> 1329098 </td>\n   <td style=\"text-align:right;\"> 1332348 </td>\n   <td style=\"text-align:right;\"> 1335743 </td>\n   <td style=\"text-align:right;\"> 1340123 </td>\n   <td style=\"text-align:right;\"> 1345770 </td>\n   <td style=\"text-align:right;\"> 1349647 </td>\n   <td style=\"text-align:right;\"> 1350141 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 040 </td>\n   <td style=\"text-align:left;\"> 3 </td>\n   <td style=\"text-align:left;\"> 5 </td>\n   <td style=\"text-align:left;\"> 24 </td>\n   <td style=\"text-align:left;\"> Maryland </td>\n   <td style=\"text-align:right;\"> 5773552 </td>\n   <td style=\"text-align:right;\"> 5773787 </td>\n   <td style=\"text-align:right;\"> 5788784 </td>\n   <td style=\"text-align:right;\"> 5840241 </td>\n   <td style=\"text-align:right;\"> 5888375 </td>\n   <td style=\"text-align:right;\"> 5925197 </td>\n   <td style=\"text-align:right;\"> 5960064 </td>\n   <td style=\"text-align:right;\"> 5988528 </td>\n   <td style=\"text-align:right;\"> 6007014 </td>\n   <td style=\"text-align:right;\"> 6028186 </td>\n   <td style=\"text-align:right;\"> 6042153 </td>\n   <td style=\"text-align:right;\"> 6054954 </td>\n   <td style=\"text-align:right;\"> 6059529 </td>\n   <td style=\"text-align:right;\"> 6055802 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 040 </td>\n   <td style=\"text-align:left;\"> 1 </td>\n   <td style=\"text-align:left;\"> 1 </td>\n   <td style=\"text-align:left;\"> 25 </td>\n   <td style=\"text-align:left;\"> Massachusetts </td>\n   <td style=\"text-align:right;\"> 6547629 </td>\n   <td style=\"text-align:right;\"> 6547788 </td>\n   <td style=\"text-align:right;\"> 6566440 </td>\n   <td style=\"text-align:right;\"> 6614218 </td>\n   <td style=\"text-align:right;\"> 6664269 </td>\n   <td style=\"text-align:right;\"> 6715158 </td>\n   <td style=\"text-align:right;\"> 6764864 </td>\n   <td style=\"text-align:right;\"> 6797484 </td>\n   <td style=\"text-align:right;\"> 6827280 </td>\n   <td style=\"text-align:right;\"> 6863560 </td>\n   <td style=\"text-align:right;\"> 6885720 </td>\n   <td style=\"text-align:right;\"> 6894883 </td>\n   <td style=\"text-align:right;\"> 6898116 </td>\n   <td style=\"text-align:right;\"> 6893574 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 040 </td>\n   <td style=\"text-align:left;\"> 2 </td>\n   <td style=\"text-align:left;\"> 3 </td>\n   <td style=\"text-align:left;\"> 26 </td>\n   <td style=\"text-align:left;\"> Michigan </td>\n   <td style=\"text-align:right;\"> 9883640 </td>\n   <td style=\"text-align:right;\"> 9884112 </td>\n   <td style=\"text-align:right;\"> 9877597 </td>\n   <td style=\"text-align:right;\"> 9883053 </td>\n   <td style=\"text-align:right;\"> 9898289 </td>\n   <td style=\"text-align:right;\"> 9914802 </td>\n   <td style=\"text-align:right;\"> 9932033 </td>\n   <td style=\"text-align:right;\"> 9934483 </td>\n   <td style=\"text-align:right;\"> 9954117 </td>\n   <td style=\"text-align:right;\"> 9976752 </td>\n   <td style=\"text-align:right;\"> 9987286 </td>\n   <td style=\"text-align:right;\"> 9984795 </td>\n   <td style=\"text-align:right;\"> 9976330 </td>\n   <td style=\"text-align:right;\"> 9966555 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 040 </td>\n   <td style=\"text-align:left;\"> 2 </td>\n   <td style=\"text-align:left;\"> 4 </td>\n   <td style=\"text-align:left;\"> 27 </td>\n   <td style=\"text-align:left;\"> Minnesota </td>\n   <td style=\"text-align:right;\"> 5303925 </td>\n   <td style=\"text-align:right;\"> 5303933 </td>\n   <td style=\"text-align:right;\"> 5310934 </td>\n   <td style=\"text-align:right;\"> 5346620 </td>\n   <td style=\"text-align:right;\"> 5377500 </td>\n   <td style=\"text-align:right;\"> 5414722 </td>\n   <td style=\"text-align:right;\"> 5452665 </td>\n   <td style=\"text-align:right;\"> 5484002 </td>\n   <td style=\"text-align:right;\"> 5525360 </td>\n   <td style=\"text-align:right;\"> 5569283 </td>\n   <td style=\"text-align:right;\"> 5608762 </td>\n   <td style=\"text-align:right;\"> 5640053 </td>\n   <td style=\"text-align:right;\"> 5655855 </td>\n   <td style=\"text-align:right;\"> 5657342 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 040 </td>\n   <td style=\"text-align:left;\"> 3 </td>\n   <td style=\"text-align:left;\"> 6 </td>\n   <td style=\"text-align:left;\"> 28 </td>\n   <td style=\"text-align:left;\"> Mississippi </td>\n   <td style=\"text-align:right;\"> 2967297 </td>\n   <td style=\"text-align:right;\"> 2968129 </td>\n   <td style=\"text-align:right;\"> 2970615 </td>\n   <td style=\"text-align:right;\"> 2979147 </td>\n   <td style=\"text-align:right;\"> 2984599 </td>\n   <td style=\"text-align:right;\"> 2989839 </td>\n   <td style=\"text-align:right;\"> 2991892 </td>\n   <td style=\"text-align:right;\"> 2990231 </td>\n   <td style=\"text-align:right;\"> 2990595 </td>\n   <td style=\"text-align:right;\"> 2990674 </td>\n   <td style=\"text-align:right;\"> 2982879 </td>\n   <td style=\"text-align:right;\"> 2978227 </td>\n   <td style=\"text-align:right;\"> 2971253 </td>\n   <td style=\"text-align:right;\"> 2966786 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 040 </td>\n   <td style=\"text-align:left;\"> 2 </td>\n   <td style=\"text-align:left;\"> 4 </td>\n   <td style=\"text-align:left;\"> 29 </td>\n   <td style=\"text-align:left;\"> Missouri </td>\n   <td style=\"text-align:right;\"> 5988927 </td>\n   <td style=\"text-align:right;\"> 5988941 </td>\n   <td style=\"text-align:right;\"> 5996089 </td>\n   <td style=\"text-align:right;\"> 6011182 </td>\n   <td style=\"text-align:right;\"> 6026027 </td>\n   <td style=\"text-align:right;\"> 6042989 </td>\n   <td style=\"text-align:right;\"> 6059130 </td>\n   <td style=\"text-align:right;\"> 6075411 </td>\n   <td style=\"text-align:right;\"> 6091384 </td>\n   <td style=\"text-align:right;\"> 6111382 </td>\n   <td style=\"text-align:right;\"> 6125986 </td>\n   <td style=\"text-align:right;\"> 6140475 </td>\n   <td style=\"text-align:right;\"> 6151737 </td>\n   <td style=\"text-align:right;\"> 6151548 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 040 </td>\n   <td style=\"text-align:left;\"> 4 </td>\n   <td style=\"text-align:left;\"> 8 </td>\n   <td style=\"text-align:left;\"> 30 </td>\n   <td style=\"text-align:left;\"> Montana </td>\n   <td style=\"text-align:right;\"> 989415 </td>\n   <td style=\"text-align:right;\"> 989400 </td>\n   <td style=\"text-align:right;\"> 990730 </td>\n   <td style=\"text-align:right;\"> 997518 </td>\n   <td style=\"text-align:right;\"> 1004168 </td>\n   <td style=\"text-align:right;\"> 1014158 </td>\n   <td style=\"text-align:right;\"> 1022657 </td>\n   <td style=\"text-align:right;\"> 1031495 </td>\n   <td style=\"text-align:right;\"> 1042137 </td>\n   <td style=\"text-align:right;\"> 1053862 </td>\n   <td style=\"text-align:right;\"> 1061818 </td>\n   <td style=\"text-align:right;\"> 1070123 </td>\n   <td style=\"text-align:right;\"> 1078405 </td>\n   <td style=\"text-align:right;\"> 1080577 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 040 </td>\n   <td style=\"text-align:left;\"> 2 </td>\n   <td style=\"text-align:left;\"> 4 </td>\n   <td style=\"text-align:left;\"> 31 </td>\n   <td style=\"text-align:left;\"> Nebraska </td>\n   <td style=\"text-align:right;\"> 1826341 </td>\n   <td style=\"text-align:right;\"> 1826311 </td>\n   <td style=\"text-align:right;\"> 1829591 </td>\n   <td style=\"text-align:right;\"> 1840914 </td>\n   <td style=\"text-align:right;\"> 1853691 </td>\n   <td style=\"text-align:right;\"> 1865813 </td>\n   <td style=\"text-align:right;\"> 1879955 </td>\n   <td style=\"text-align:right;\"> 1892059 </td>\n   <td style=\"text-align:right;\"> 1906483 </td>\n   <td style=\"text-align:right;\"> 1916998 </td>\n   <td style=\"text-align:right;\"> 1925512 </td>\n   <td style=\"text-align:right;\"> 1932571 </td>\n   <td style=\"text-align:right;\"> 1937258 </td>\n   <td style=\"text-align:right;\"> 1937552 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 040 </td>\n   <td style=\"text-align:left;\"> 4 </td>\n   <td style=\"text-align:left;\"> 8 </td>\n   <td style=\"text-align:left;\"> 32 </td>\n   <td style=\"text-align:left;\"> Nevada </td>\n   <td style=\"text-align:right;\"> 2700551 </td>\n   <td style=\"text-align:right;\"> 2700683 </td>\n   <td style=\"text-align:right;\"> 2702483 </td>\n   <td style=\"text-align:right;\"> 2713114 </td>\n   <td style=\"text-align:right;\"> 2744670 </td>\n   <td style=\"text-align:right;\"> 2776956 </td>\n   <td style=\"text-align:right;\"> 2818935 </td>\n   <td style=\"text-align:right;\"> 2868531 </td>\n   <td style=\"text-align:right;\"> 2919555 </td>\n   <td style=\"text-align:right;\"> 2972097 </td>\n   <td style=\"text-align:right;\"> 3030725 </td>\n   <td style=\"text-align:right;\"> 3090771 </td>\n   <td style=\"text-align:right;\"> 3128500 </td>\n   <td style=\"text-align:right;\"> 3138259 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 040 </td>\n   <td style=\"text-align:left;\"> 1 </td>\n   <td style=\"text-align:left;\"> 1 </td>\n   <td style=\"text-align:left;\"> 33 </td>\n   <td style=\"text-align:left;\"> New Hampshire </td>\n   <td style=\"text-align:right;\"> 1316470 </td>\n   <td style=\"text-align:right;\"> 1316457 </td>\n   <td style=\"text-align:right;\"> 1316807 </td>\n   <td style=\"text-align:right;\"> 1320444 </td>\n   <td style=\"text-align:right;\"> 1324677 </td>\n   <td style=\"text-align:right;\"> 1327272 </td>\n   <td style=\"text-align:right;\"> 1334257 </td>\n   <td style=\"text-align:right;\"> 1337480 </td>\n   <td style=\"text-align:right;\"> 1343694 </td>\n   <td style=\"text-align:right;\"> 1350395 </td>\n   <td style=\"text-align:right;\"> 1355064 </td>\n   <td style=\"text-align:right;\"> 1360783 </td>\n   <td style=\"text-align:right;\"> 1365533 </td>\n   <td style=\"text-align:right;\"> 1366275 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 040 </td>\n   <td style=\"text-align:left;\"> 1 </td>\n   <td style=\"text-align:left;\"> 2 </td>\n   <td style=\"text-align:left;\"> 34 </td>\n   <td style=\"text-align:left;\"> New Jersey </td>\n   <td style=\"text-align:right;\"> 8791894 </td>\n   <td style=\"text-align:right;\"> 8791959 </td>\n   <td style=\"text-align:right;\"> 8799451 </td>\n   <td style=\"text-align:right;\"> 8828552 </td>\n   <td style=\"text-align:right;\"> 8845671 </td>\n   <td style=\"text-align:right;\"> 8857821 </td>\n   <td style=\"text-align:right;\"> 8867277 </td>\n   <td style=\"text-align:right;\"> 8870312 </td>\n   <td style=\"text-align:right;\"> 8873584 </td>\n   <td style=\"text-align:right;\"> 8888147 </td>\n   <td style=\"text-align:right;\"> 8891730 </td>\n   <td style=\"text-align:right;\"> 8891258 </td>\n   <td style=\"text-align:right;\"> 8890883 </td>\n   <td style=\"text-align:right;\"> 8882371 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 040 </td>\n   <td style=\"text-align:left;\"> 4 </td>\n   <td style=\"text-align:left;\"> 8 </td>\n   <td style=\"text-align:left;\"> 35 </td>\n   <td style=\"text-align:left;\"> New Mexico </td>\n   <td style=\"text-align:right;\"> 2059179 </td>\n   <td style=\"text-align:right;\"> 2059199 </td>\n   <td style=\"text-align:right;\"> 2064614 </td>\n   <td style=\"text-align:right;\"> 2080707 </td>\n   <td style=\"text-align:right;\"> 2087715 </td>\n   <td style=\"text-align:right;\"> 2092833 </td>\n   <td style=\"text-align:right;\"> 2090236 </td>\n   <td style=\"text-align:right;\"> 2090071 </td>\n   <td style=\"text-align:right;\"> 2092555 </td>\n   <td style=\"text-align:right;\"> 2092844 </td>\n   <td style=\"text-align:right;\"> 2093754 </td>\n   <td style=\"text-align:right;\"> 2099634 </td>\n   <td style=\"text-align:right;\"> 2106117 </td>\n   <td style=\"text-align:right;\"> 2106319 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 040 </td>\n   <td style=\"text-align:left;\"> 1 </td>\n   <td style=\"text-align:left;\"> 2 </td>\n   <td style=\"text-align:left;\"> 36 </td>\n   <td style=\"text-align:left;\"> New York </td>\n   <td style=\"text-align:right;\"> 19378102 </td>\n   <td style=\"text-align:right;\"> 19378117 </td>\n   <td style=\"text-align:right;\"> 19399956 </td>\n   <td style=\"text-align:right;\"> 19499921 </td>\n   <td style=\"text-align:right;\"> 19574362 </td>\n   <td style=\"text-align:right;\"> 19626488 </td>\n   <td style=\"text-align:right;\"> 19653431 </td>\n   <td style=\"text-align:right;\"> 19657321 </td>\n   <td style=\"text-align:right;\"> 19636391 </td>\n   <td style=\"text-align:right;\"> 19593849 </td>\n   <td style=\"text-align:right;\"> 19544098 </td>\n   <td style=\"text-align:right;\"> 19463131 </td>\n   <td style=\"text-align:right;\"> 19382373 </td>\n   <td style=\"text-align:right;\"> 19336776 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 040 </td>\n   <td style=\"text-align:left;\"> 3 </td>\n   <td style=\"text-align:left;\"> 5 </td>\n   <td style=\"text-align:left;\"> 37 </td>\n   <td style=\"text-align:left;\"> North Carolina </td>\n   <td style=\"text-align:right;\"> 9535483 </td>\n   <td style=\"text-align:right;\"> 9535762 </td>\n   <td style=\"text-align:right;\"> 9574586 </td>\n   <td style=\"text-align:right;\"> 9658913 </td>\n   <td style=\"text-align:right;\"> 9751810 </td>\n   <td style=\"text-align:right;\"> 9846717 </td>\n   <td style=\"text-align:right;\"> 9937295 </td>\n   <td style=\"text-align:right;\"> 10037218 </td>\n   <td style=\"text-align:right;\"> 10161802 </td>\n   <td style=\"text-align:right;\"> 10275758 </td>\n   <td style=\"text-align:right;\"> 10391358 </td>\n   <td style=\"text-align:right;\"> 10501384 </td>\n   <td style=\"text-align:right;\"> 10581885 </td>\n   <td style=\"text-align:right;\"> 10600823 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 040 </td>\n   <td style=\"text-align:left;\"> 2 </td>\n   <td style=\"text-align:left;\"> 4 </td>\n   <td style=\"text-align:left;\"> 38 </td>\n   <td style=\"text-align:left;\"> North Dakota </td>\n   <td style=\"text-align:right;\"> 672591 </td>\n   <td style=\"text-align:right;\"> 672575 </td>\n   <td style=\"text-align:right;\"> 674752 </td>\n   <td style=\"text-align:right;\"> 685526 </td>\n   <td style=\"text-align:right;\"> 702227 </td>\n   <td style=\"text-align:right;\"> 723149 </td>\n   <td style=\"text-align:right;\"> 738736 </td>\n   <td style=\"text-align:right;\"> 755537 </td>\n   <td style=\"text-align:right;\"> 756114 </td>\n   <td style=\"text-align:right;\"> 756755 </td>\n   <td style=\"text-align:right;\"> 760062 </td>\n   <td style=\"text-align:right;\"> 763724 </td>\n   <td style=\"text-align:right;\"> 765224 </td>\n   <td style=\"text-align:right;\"> 765309 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 040 </td>\n   <td style=\"text-align:left;\"> 2 </td>\n   <td style=\"text-align:left;\"> 3 </td>\n   <td style=\"text-align:left;\"> 39 </td>\n   <td style=\"text-align:left;\"> Ohio </td>\n   <td style=\"text-align:right;\"> 11536504 </td>\n   <td style=\"text-align:right;\"> 11536763 </td>\n   <td style=\"text-align:right;\"> 11539449 </td>\n   <td style=\"text-align:right;\"> 11545735 </td>\n   <td style=\"text-align:right;\"> 11550971 </td>\n   <td style=\"text-align:right;\"> 11579692 </td>\n   <td style=\"text-align:right;\"> 11606573 </td>\n   <td style=\"text-align:right;\"> 11622315 </td>\n   <td style=\"text-align:right;\"> 11640060 </td>\n   <td style=\"text-align:right;\"> 11665706 </td>\n   <td style=\"text-align:right;\"> 11680892 </td>\n   <td style=\"text-align:right;\"> 11696507 </td>\n   <td style=\"text-align:right;\"> 11699855 </td>\n   <td style=\"text-align:right;\"> 11693217 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 040 </td>\n   <td style=\"text-align:left;\"> 3 </td>\n   <td style=\"text-align:left;\"> 7 </td>\n   <td style=\"text-align:left;\"> 40 </td>\n   <td style=\"text-align:left;\"> Oklahoma </td>\n   <td style=\"text-align:right;\"> 3751351 </td>\n   <td style=\"text-align:right;\"> 3751582 </td>\n   <td style=\"text-align:right;\"> 3760014 </td>\n   <td style=\"text-align:right;\"> 3788824 </td>\n   <td style=\"text-align:right;\"> 3819320 </td>\n   <td style=\"text-align:right;\"> 3853891 </td>\n   <td style=\"text-align:right;\"> 3879187 </td>\n   <td style=\"text-align:right;\"> 3910518 </td>\n   <td style=\"text-align:right;\"> 3928143 </td>\n   <td style=\"text-align:right;\"> 3933602 </td>\n   <td style=\"text-align:right;\"> 3943488 </td>\n   <td style=\"text-align:right;\"> 3960676 </td>\n   <td style=\"text-align:right;\"> 3977682 </td>\n   <td style=\"text-align:right;\"> 3980783 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 040 </td>\n   <td style=\"text-align:left;\"> 4 </td>\n   <td style=\"text-align:left;\"> 9 </td>\n   <td style=\"text-align:left;\"> 41 </td>\n   <td style=\"text-align:left;\"> Oregon </td>\n   <td style=\"text-align:right;\"> 3831074 </td>\n   <td style=\"text-align:right;\"> 3831083 </td>\n   <td style=\"text-align:right;\"> 3837614 </td>\n   <td style=\"text-align:right;\"> 3872672 </td>\n   <td style=\"text-align:right;\"> 3900102 </td>\n   <td style=\"text-align:right;\"> 3924110 </td>\n   <td style=\"text-align:right;\"> 3965447 </td>\n   <td style=\"text-align:right;\"> 4018542 </td>\n   <td style=\"text-align:right;\"> 4093271 </td>\n   <td style=\"text-align:right;\"> 4147294 </td>\n   <td style=\"text-align:right;\"> 4183538 </td>\n   <td style=\"text-align:right;\"> 4216116 </td>\n   <td style=\"text-align:right;\"> 4237408 </td>\n   <td style=\"text-align:right;\"> 4241507 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 040 </td>\n   <td style=\"text-align:left;\"> 1 </td>\n   <td style=\"text-align:left;\"> 2 </td>\n   <td style=\"text-align:left;\"> 42 </td>\n   <td style=\"text-align:left;\"> Pennsylvania </td>\n   <td style=\"text-align:right;\"> 12702379 </td>\n   <td style=\"text-align:right;\"> 12702891 </td>\n   <td style=\"text-align:right;\"> 12711406 </td>\n   <td style=\"text-align:right;\"> 12747052 </td>\n   <td style=\"text-align:right;\"> 12769123 </td>\n   <td style=\"text-align:right;\"> 12779538 </td>\n   <td style=\"text-align:right;\"> 12792392 </td>\n   <td style=\"text-align:right;\"> 12789838 </td>\n   <td style=\"text-align:right;\"> 12788468 </td>\n   <td style=\"text-align:right;\"> 12794679 </td>\n   <td style=\"text-align:right;\"> 12809107 </td>\n   <td style=\"text-align:right;\"> 12798883 </td>\n   <td style=\"text-align:right;\"> 12794404 </td>\n   <td style=\"text-align:right;\"> 12783254 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 040 </td>\n   <td style=\"text-align:left;\"> 1 </td>\n   <td style=\"text-align:left;\"> 1 </td>\n   <td style=\"text-align:left;\"> 44 </td>\n   <td style=\"text-align:left;\"> Rhode Island </td>\n   <td style=\"text-align:right;\"> 1052567 </td>\n   <td style=\"text-align:right;\"> 1052970 </td>\n   <td style=\"text-align:right;\"> 1053994 </td>\n   <td style=\"text-align:right;\"> 1053829 </td>\n   <td style=\"text-align:right;\"> 1054893 </td>\n   <td style=\"text-align:right;\"> 1055560 </td>\n   <td style=\"text-align:right;\"> 1056511 </td>\n   <td style=\"text-align:right;\"> 1056886 </td>\n   <td style=\"text-align:right;\"> 1057816 </td>\n   <td style=\"text-align:right;\"> 1056554 </td>\n   <td style=\"text-align:right;\"> 1059338 </td>\n   <td style=\"text-align:right;\"> 1058158 </td>\n   <td style=\"text-align:right;\"> 1058004 </td>\n   <td style=\"text-align:right;\"> 1057125 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 040 </td>\n   <td style=\"text-align:left;\"> 3 </td>\n   <td style=\"text-align:left;\"> 5 </td>\n   <td style=\"text-align:left;\"> 45 </td>\n   <td style=\"text-align:left;\"> South Carolina </td>\n   <td style=\"text-align:right;\"> 4625364 </td>\n   <td style=\"text-align:right;\"> 4625358 </td>\n   <td style=\"text-align:right;\"> 4635846 </td>\n   <td style=\"text-align:right;\"> 4672655 </td>\n   <td style=\"text-align:right;\"> 4719027 </td>\n   <td style=\"text-align:right;\"> 4766469 </td>\n   <td style=\"text-align:right;\"> 4826858 </td>\n   <td style=\"text-align:right;\"> 4896006 </td>\n   <td style=\"text-align:right;\"> 4963031 </td>\n   <td style=\"text-align:right;\"> 5027102 </td>\n   <td style=\"text-align:right;\"> 5091702 </td>\n   <td style=\"text-align:right;\"> 5157702 </td>\n   <td style=\"text-align:right;\"> 5205864 </td>\n   <td style=\"text-align:right;\"> 5218040 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 040 </td>\n   <td style=\"text-align:left;\"> 2 </td>\n   <td style=\"text-align:left;\"> 4 </td>\n   <td style=\"text-align:left;\"> 46 </td>\n   <td style=\"text-align:left;\"> South Dakota </td>\n   <td style=\"text-align:right;\"> 814180 </td>\n   <td style=\"text-align:right;\"> 814198 </td>\n   <td style=\"text-align:right;\"> 816193 </td>\n   <td style=\"text-align:right;\"> 823740 </td>\n   <td style=\"text-align:right;\"> 833859 </td>\n   <td style=\"text-align:right;\"> 842751 </td>\n   <td style=\"text-align:right;\"> 849670 </td>\n   <td style=\"text-align:right;\"> 854663 </td>\n   <td style=\"text-align:right;\"> 863693 </td>\n   <td style=\"text-align:right;\"> 873732 </td>\n   <td style=\"text-align:right;\"> 879386 </td>\n   <td style=\"text-align:right;\"> 887127 </td>\n   <td style=\"text-align:right;\"> 891688 </td>\n   <td style=\"text-align:right;\"> 892717 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 040 </td>\n   <td style=\"text-align:left;\"> 3 </td>\n   <td style=\"text-align:left;\"> 6 </td>\n   <td style=\"text-align:left;\"> 47 </td>\n   <td style=\"text-align:left;\"> Tennessee </td>\n   <td style=\"text-align:right;\"> 6346105 </td>\n   <td style=\"text-align:right;\"> 6346281 </td>\n   <td style=\"text-align:right;\"> 6355518 </td>\n   <td style=\"text-align:right;\"> 6400298 </td>\n   <td style=\"text-align:right;\"> 6455752 </td>\n   <td style=\"text-align:right;\"> 6496943 </td>\n   <td style=\"text-align:right;\"> 6544617 </td>\n   <td style=\"text-align:right;\"> 6595354 </td>\n   <td style=\"text-align:right;\"> 6651277 </td>\n   <td style=\"text-align:right;\"> 6714748 </td>\n   <td style=\"text-align:right;\"> 6778180 </td>\n   <td style=\"text-align:right;\"> 6830325 </td>\n   <td style=\"text-align:right;\"> 6875939 </td>\n   <td style=\"text-align:right;\"> 6886834 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 040 </td>\n   <td style=\"text-align:left;\"> 3 </td>\n   <td style=\"text-align:left;\"> 7 </td>\n   <td style=\"text-align:left;\"> 48 </td>\n   <td style=\"text-align:left;\"> Texas </td>\n   <td style=\"text-align:right;\"> 25145561 </td>\n   <td style=\"text-align:right;\"> 25146072 </td>\n   <td style=\"text-align:right;\"> 25241897 </td>\n   <td style=\"text-align:right;\"> 25645504 </td>\n   <td style=\"text-align:right;\"> 26084120 </td>\n   <td style=\"text-align:right;\"> 26479646 </td>\n   <td style=\"text-align:right;\"> 26963092 </td>\n   <td style=\"text-align:right;\"> 27468531 </td>\n   <td style=\"text-align:right;\"> 27914064 </td>\n   <td style=\"text-align:right;\"> 28291024 </td>\n   <td style=\"text-align:right;\"> 28624564 </td>\n   <td style=\"text-align:right;\"> 28986794 </td>\n   <td style=\"text-align:right;\"> 29286467 </td>\n   <td style=\"text-align:right;\"> 29360759 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 040 </td>\n   <td style=\"text-align:left;\"> 4 </td>\n   <td style=\"text-align:left;\"> 8 </td>\n   <td style=\"text-align:left;\"> 49 </td>\n   <td style=\"text-align:left;\"> Utah </td>\n   <td style=\"text-align:right;\"> 2763885 </td>\n   <td style=\"text-align:right;\"> 2763891 </td>\n   <td style=\"text-align:right;\"> 2775413 </td>\n   <td style=\"text-align:right;\"> 2814797 </td>\n   <td style=\"text-align:right;\"> 2854146 </td>\n   <td style=\"text-align:right;\"> 2898773 </td>\n   <td style=\"text-align:right;\"> 2938327 </td>\n   <td style=\"text-align:right;\"> 2983626 </td>\n   <td style=\"text-align:right;\"> 3044241 </td>\n   <td style=\"text-align:right;\"> 3103540 </td>\n   <td style=\"text-align:right;\"> 3155153 </td>\n   <td style=\"text-align:right;\"> 3203383 </td>\n   <td style=\"text-align:right;\"> 3239542 </td>\n   <td style=\"text-align:right;\"> 3249879 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 040 </td>\n   <td style=\"text-align:left;\"> 1 </td>\n   <td style=\"text-align:left;\"> 1 </td>\n   <td style=\"text-align:left;\"> 50 </td>\n   <td style=\"text-align:left;\"> Vermont </td>\n   <td style=\"text-align:right;\"> 625741 </td>\n   <td style=\"text-align:right;\"> 625727 </td>\n   <td style=\"text-align:right;\"> 625886 </td>\n   <td style=\"text-align:right;\"> 627197 </td>\n   <td style=\"text-align:right;\"> 626361 </td>\n   <td style=\"text-align:right;\"> 626603 </td>\n   <td style=\"text-align:right;\"> 625693 </td>\n   <td style=\"text-align:right;\"> 625810 </td>\n   <td style=\"text-align:right;\"> 624366 </td>\n   <td style=\"text-align:right;\"> 625132 </td>\n   <td style=\"text-align:right;\"> 624802 </td>\n   <td style=\"text-align:right;\"> 624046 </td>\n   <td style=\"text-align:right;\"> 623821 </td>\n   <td style=\"text-align:right;\"> 623347 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 040 </td>\n   <td style=\"text-align:left;\"> 3 </td>\n   <td style=\"text-align:left;\"> 5 </td>\n   <td style=\"text-align:left;\"> 51 </td>\n   <td style=\"text-align:left;\"> Virginia </td>\n   <td style=\"text-align:right;\"> 8001024 </td>\n   <td style=\"text-align:right;\"> 8001046 </td>\n   <td style=\"text-align:right;\"> 8024004 </td>\n   <td style=\"text-align:right;\"> 8102437 </td>\n   <td style=\"text-align:right;\"> 8187456 </td>\n   <td style=\"text-align:right;\"> 8255861 </td>\n   <td style=\"text-align:right;\"> 8315430 </td>\n   <td style=\"text-align:right;\"> 8367303 </td>\n   <td style=\"text-align:right;\"> 8417651 </td>\n   <td style=\"text-align:right;\"> 8471011 </td>\n   <td style=\"text-align:right;\"> 8510920 </td>\n   <td style=\"text-align:right;\"> 8556642 </td>\n   <td style=\"text-align:right;\"> 8587217 </td>\n   <td style=\"text-align:right;\"> 8590563 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 040 </td>\n   <td style=\"text-align:left;\"> 4 </td>\n   <td style=\"text-align:left;\"> 9 </td>\n   <td style=\"text-align:left;\"> 53 </td>\n   <td style=\"text-align:left;\"> Washington </td>\n   <td style=\"text-align:right;\"> 6724540 </td>\n   <td style=\"text-align:right;\"> 6724540 </td>\n   <td style=\"text-align:right;\"> 6743009 </td>\n   <td style=\"text-align:right;\"> 6827479 </td>\n   <td style=\"text-align:right;\"> 6898599 </td>\n   <td style=\"text-align:right;\"> 6966252 </td>\n   <td style=\"text-align:right;\"> 7057531 </td>\n   <td style=\"text-align:right;\"> 7167287 </td>\n   <td style=\"text-align:right;\"> 7299961 </td>\n   <td style=\"text-align:right;\"> 7427951 </td>\n   <td style=\"text-align:right;\"> 7526793 </td>\n   <td style=\"text-align:right;\"> 7614024 </td>\n   <td style=\"text-align:right;\"> 7678379 </td>\n   <td style=\"text-align:right;\"> 7693612 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 040 </td>\n   <td style=\"text-align:left;\"> 3 </td>\n   <td style=\"text-align:left;\"> 5 </td>\n   <td style=\"text-align:left;\"> 54 </td>\n   <td style=\"text-align:left;\"> West Virginia </td>\n   <td style=\"text-align:right;\"> 1852994 </td>\n   <td style=\"text-align:right;\"> 1853008 </td>\n   <td style=\"text-align:right;\"> 1854265 </td>\n   <td style=\"text-align:right;\"> 1856606 </td>\n   <td style=\"text-align:right;\"> 1857446 </td>\n   <td style=\"text-align:right;\"> 1854768 </td>\n   <td style=\"text-align:right;\"> 1850569 </td>\n   <td style=\"text-align:right;\"> 1843332 </td>\n   <td style=\"text-align:right;\"> 1832435 </td>\n   <td style=\"text-align:right;\"> 1818683 </td>\n   <td style=\"text-align:right;\"> 1805953 </td>\n   <td style=\"text-align:right;\"> 1795263 </td>\n   <td style=\"text-align:right;\"> 1788150 </td>\n   <td style=\"text-align:right;\"> 1784787 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 040 </td>\n   <td style=\"text-align:left;\"> 2 </td>\n   <td style=\"text-align:left;\"> 3 </td>\n   <td style=\"text-align:left;\"> 55 </td>\n   <td style=\"text-align:left;\"> Wisconsin </td>\n   <td style=\"text-align:right;\"> 5686986 </td>\n   <td style=\"text-align:right;\"> 5687285 </td>\n   <td style=\"text-align:right;\"> 5690538 </td>\n   <td style=\"text-align:right;\"> 5705840 </td>\n   <td style=\"text-align:right;\"> 5720825 </td>\n   <td style=\"text-align:right;\"> 5738012 </td>\n   <td style=\"text-align:right;\"> 5753199 </td>\n   <td style=\"text-align:right;\"> 5762927 </td>\n   <td style=\"text-align:right;\"> 5775170 </td>\n   <td style=\"text-align:right;\"> 5793147 </td>\n   <td style=\"text-align:right;\"> 5809319 </td>\n   <td style=\"text-align:right;\"> 5824581 </td>\n   <td style=\"text-align:right;\"> 5833464 </td>\n   <td style=\"text-align:right;\"> 5832655 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 040 </td>\n   <td style=\"text-align:left;\"> 4 </td>\n   <td style=\"text-align:left;\"> 8 </td>\n   <td style=\"text-align:left;\"> 56 </td>\n   <td style=\"text-align:left;\"> Wyoming </td>\n   <td style=\"text-align:right;\"> 563626 </td>\n   <td style=\"text-align:right;\"> 563775 </td>\n   <td style=\"text-align:right;\"> 564531 </td>\n   <td style=\"text-align:right;\"> 567491 </td>\n   <td style=\"text-align:right;\"> 576656 </td>\n   <td style=\"text-align:right;\"> 582620 </td>\n   <td style=\"text-align:right;\"> 583159 </td>\n   <td style=\"text-align:right;\"> 586389 </td>\n   <td style=\"text-align:right;\"> 585243 </td>\n   <td style=\"text-align:right;\"> 579994 </td>\n   <td style=\"text-align:right;\"> 579054 </td>\n   <td style=\"text-align:right;\"> 580116 </td>\n   <td style=\"text-align:right;\"> 582030 </td>\n   <td style=\"text-align:right;\"> 582328 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 040 </td>\n   <td style=\"text-align:left;\"> X </td>\n   <td style=\"text-align:left;\"> X </td>\n   <td style=\"text-align:left;\"> 72 </td>\n   <td style=\"text-align:left;\"> Puerto Rico </td>\n   <td style=\"text-align:right;\"> 3725789 </td>\n   <td style=\"text-align:right;\"> 3726157 </td>\n   <td style=\"text-align:right;\"> 3721525 </td>\n   <td style=\"text-align:right;\"> 3678732 </td>\n   <td style=\"text-align:right;\"> 3634488 </td>\n   <td style=\"text-align:right;\"> 3593077 </td>\n   <td style=\"text-align:right;\"> 3534874 </td>\n   <td style=\"text-align:right;\"> 3473232 </td>\n   <td style=\"text-align:right;\"> 3406672 </td>\n   <td style=\"text-align:right;\"> 3325284 </td>\n   <td style=\"text-align:right;\"> 3193344 </td>\n   <td style=\"text-align:right;\"> 3193553 </td>\n   <td style=\"text-align:right;\"> 3167851 </td>\n   <td style=\"text-align:right;\"> 3159343 </td>\n  </tr>\n</tbody>\n</table></div>\n\n`````\n:::\n:::\n\n\n## National population data\n\nWe can use the `SUMLEV` variable to obtain only national data:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nUS_pop <- state_population |>\n  filter(SUMLEV == \"010\")\n\n# code to print the data\nkable(US_pop, digits = 3, row.names = F) |>\n  kableExtra::kable_styling(\"striped\", full_width = T)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped\" style=\"margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> SUMLEV </th>\n   <th style=\"text-align:left;\"> REGION </th>\n   <th style=\"text-align:left;\"> DIVISION </th>\n   <th style=\"text-align:left;\"> STATE </th>\n   <th style=\"text-align:left;\"> NAME </th>\n   <th style=\"text-align:right;\"> CENSUS2010POP </th>\n   <th style=\"text-align:right;\"> ESTIMATESBASE2010 </th>\n   <th style=\"text-align:right;\"> POPESTIMATE2010 </th>\n   <th style=\"text-align:right;\"> POPESTIMATE2011 </th>\n   <th style=\"text-align:right;\"> POPESTIMATE2012 </th>\n   <th style=\"text-align:right;\"> POPESTIMATE2013 </th>\n   <th style=\"text-align:right;\"> POPESTIMATE2014 </th>\n   <th style=\"text-align:right;\"> POPESTIMATE2015 </th>\n   <th style=\"text-align:right;\"> POPESTIMATE2016 </th>\n   <th style=\"text-align:right;\"> POPESTIMATE2017 </th>\n   <th style=\"text-align:right;\"> POPESTIMATE2018 </th>\n   <th style=\"text-align:right;\"> POPESTIMATE2019 </th>\n   <th style=\"text-align:right;\"> POPESTIMATE042020 </th>\n   <th style=\"text-align:right;\"> POPESTIMATE2020 </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> 010 </td>\n   <td style=\"text-align:left;\"> 0 </td>\n   <td style=\"text-align:left;\"> 0 </td>\n   <td style=\"text-align:left;\"> 00 </td>\n   <td style=\"text-align:left;\"> United States </td>\n   <td style=\"text-align:right;\"> 308745538 </td>\n   <td style=\"text-align:right;\"> 308758105 </td>\n   <td style=\"text-align:right;\"> 309327143 </td>\n   <td style=\"text-align:right;\"> 311583481 </td>\n   <td style=\"text-align:right;\"> 313877662 </td>\n   <td style=\"text-align:right;\"> 316059947 </td>\n   <td style=\"text-align:right;\"> 318386329 </td>\n   <td style=\"text-align:right;\"> 320738994 </td>\n   <td style=\"text-align:right;\"> 323071755 </td>\n   <td style=\"text-align:right;\"> 325122128 </td>\n   <td style=\"text-align:right;\"> 326838199 </td>\n   <td style=\"text-align:right;\"> 328329953 </td>\n   <td style=\"text-align:right;\"> 329398742 </td>\n   <td style=\"text-align:right;\"> 329484123 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n## National population data\n\nHow can we generate the following plot?\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](08_advanced-visualization_files/figure-revealjs/unnamed-chunk-23-1.png){width=960}\n:::\n:::\n\n\n## National population data\n\nNote that our data cannot be readily used with `ggplot` to generate the previous plot. Ideally, we would like two vectors of the same length: one representing `Year` and one representing `Population`. Today, we'll discuss how to do this in both **base R** and the **tidyverse**.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# base R\nplot_dat <- data.frame(\n  Year = 2010:2020,\n  Population = US_pop[1, 8:19]\n)\nhead(plot_dat)\n```\n:::\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n```\n  Year Population.POPESTIMATE2010 Population.POPESTIMATE2011\n1 2010                  309327143                  311583481\n2 2011                  309327143                  311583481\n3 2012                  309327143                  311583481\n4 2013                  309327143                  311583481\n5 2014                  309327143                  311583481\n6 2015                  309327143                  311583481\n  Population.POPESTIMATE2012 Population.POPESTIMATE2013\n1                  313877662                  316059947\n2                  313877662                  316059947\n3                  313877662                  316059947\n4                  313877662                  316059947\n5                  313877662                  316059947\n6                  313877662                  316059947\n  Population.POPESTIMATE2014 Population.POPESTIMATE2015\n1                  318386329                  320738994\n2                  318386329                  320738994\n3                  318386329                  320738994\n4                  318386329                  320738994\n5                  318386329                  320738994\n6                  318386329                  320738994\n  Population.POPESTIMATE2016 Population.POPESTIMATE2017\n1                  323071755                  325122128\n2                  323071755                  325122128\n3                  323071755                  325122128\n4                  323071755                  325122128\n5                  323071755                  325122128\n6                  323071755                  325122128\n  Population.POPESTIMATE2018 Population.POPESTIMATE2019\n1                  326838199                  328329953\n2                  326838199                  328329953\n3                  326838199                  328329953\n4                  326838199                  328329953\n5                  326838199                  328329953\n6                  326838199                  328329953\n  Population.POPESTIMATE042020 Population.POPESTIMATE2020\n1                    329398742                  329484123\n2                    329398742                  329484123\n3                    329398742                  329484123\n4                    329398742                  329484123\n5                    329398742                  329484123\n6                    329398742                  329484123\n```\n:::\n:::\n\n\n## National population data\n\nWhat went wrong? `US_pop[1, 8:19]` is a tibble, and we need a numeric.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplot_dat <- data.frame(\n  Year = 2010:2020,\n  Population = as.numeric(US_pop[1, 8:19])\n)\n```\n:::\n\n::: {.cell}\n::: {.cell-output .cell-output-error}\n```\nError in data.frame(Year = 2010:2020, Population = as.numeric(US_pop[1, : arguments imply differing number of rows: 11, 12\n```\n:::\n:::\n\n\n## National population data\n\nNow what? `US_pop` has an extra column `POPESTIMATE042020` which we need to remove.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# base R\nplot_dat <- data.frame(\n  Year = 2010:2020,\n  Population = as.numeric(US_pop[, c(8:17, 19)])\n)\nhead(plot_dat)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n  Year Population\n1 2010  309327143\n2 2011  311583481\n3 2012  313877662\n4 2013  316059947\n5 2014  318386329\n6 2015  320738994\n```\n:::\n:::\n\n\n## National population data\n\nFinally, we can use the `plot` function to get our desired visualization:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplot(plot_dat$Year, plot_dat$Population)\n```\n\n::: {.cell-output-display}\n![](08_advanced-visualization_files/figure-revealjs/unnamed-chunk-29-1.png){width=960}\n:::\n:::\n\n\n## Tidyverse strategy\n\nNow let's see how we might approach the same task in the tidyverse. Our strategy will be to \"tidy\" the data so we have one row for each observation and one column for each observation.\n\nFirst, let's remove the unnecessary column using the `select()` function. Here the `kable` function is used to print out our table.\n\n::: {style=\"height:500px;overflow:auto;\"}\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"2\"}\nUS_pop |> \n  select(-POPESTIMATE042020)  |>\n  kable()\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> SUMLEV </th>\n   <th style=\"text-align:left;\"> REGION </th>\n   <th style=\"text-align:left;\"> DIVISION </th>\n   <th style=\"text-align:left;\"> STATE </th>\n   <th style=\"text-align:left;\"> NAME </th>\n   <th style=\"text-align:right;\"> CENSUS2010POP </th>\n   <th style=\"text-align:right;\"> ESTIMATESBASE2010 </th>\n   <th style=\"text-align:right;\"> POPESTIMATE2010 </th>\n   <th style=\"text-align:right;\"> POPESTIMATE2011 </th>\n   <th style=\"text-align:right;\"> POPESTIMATE2012 </th>\n   <th style=\"text-align:right;\"> POPESTIMATE2013 </th>\n   <th style=\"text-align:right;\"> POPESTIMATE2014 </th>\n   <th style=\"text-align:right;\"> POPESTIMATE2015 </th>\n   <th style=\"text-align:right;\"> POPESTIMATE2016 </th>\n   <th style=\"text-align:right;\"> POPESTIMATE2017 </th>\n   <th style=\"text-align:right;\"> POPESTIMATE2018 </th>\n   <th style=\"text-align:right;\"> POPESTIMATE2019 </th>\n   <th style=\"text-align:right;\"> POPESTIMATE2020 </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> 010 </td>\n   <td style=\"text-align:left;\"> 0 </td>\n   <td style=\"text-align:left;\"> 0 </td>\n   <td style=\"text-align:left;\"> 00 </td>\n   <td style=\"text-align:left;\"> United States </td>\n   <td style=\"text-align:right;\"> 308745538 </td>\n   <td style=\"text-align:right;\"> 308758105 </td>\n   <td style=\"text-align:right;\"> 309327143 </td>\n   <td style=\"text-align:right;\"> 311583481 </td>\n   <td style=\"text-align:right;\"> 313877662 </td>\n   <td style=\"text-align:right;\"> 316059947 </td>\n   <td style=\"text-align:right;\"> 318386329 </td>\n   <td style=\"text-align:right;\"> 320738994 </td>\n   <td style=\"text-align:right;\"> 323071755 </td>\n   <td style=\"text-align:right;\"> 325122128 </td>\n   <td style=\"text-align:right;\"> 326838199 </td>\n   <td style=\"text-align:right;\"> 328329953 </td>\n   <td style=\"text-align:right;\"> 329484123 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n:::\n\n## Tidyverse strategy\n\nNow let's use the `pivot_longer` function to combine the `POPESTIMATE` columns into two variables: `Year` and `Population`:\n\n::: {style=\"height:500px;overflow:auto;\"}\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"3-5\"}\nUS_pop |> \n  select(-POPESTIMATE042020) |>\n  pivot_longer(contains(\"POPESTIMATE\"), \n               names_to = \"Year\",\n               values_to = \"Population\") |>\n  kable()\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> SUMLEV </th>\n   <th style=\"text-align:left;\"> REGION </th>\n   <th style=\"text-align:left;\"> DIVISION </th>\n   <th style=\"text-align:left;\"> STATE </th>\n   <th style=\"text-align:left;\"> NAME </th>\n   <th style=\"text-align:right;\"> CENSUS2010POP </th>\n   <th style=\"text-align:right;\"> ESTIMATESBASE2010 </th>\n   <th style=\"text-align:left;\"> Year </th>\n   <th style=\"text-align:right;\"> Population </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> 010 </td>\n   <td style=\"text-align:left;\"> 0 </td>\n   <td style=\"text-align:left;\"> 0 </td>\n   <td style=\"text-align:left;\"> 00 </td>\n   <td style=\"text-align:left;\"> United States </td>\n   <td style=\"text-align:right;\"> 308745538 </td>\n   <td style=\"text-align:right;\"> 308758105 </td>\n   <td style=\"text-align:left;\"> POPESTIMATE2010 </td>\n   <td style=\"text-align:right;\"> 309327143 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 010 </td>\n   <td style=\"text-align:left;\"> 0 </td>\n   <td style=\"text-align:left;\"> 0 </td>\n   <td style=\"text-align:left;\"> 00 </td>\n   <td style=\"text-align:left;\"> United States </td>\n   <td style=\"text-align:right;\"> 308745538 </td>\n   <td style=\"text-align:right;\"> 308758105 </td>\n   <td style=\"text-align:left;\"> POPESTIMATE2011 </td>\n   <td style=\"text-align:right;\"> 311583481 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 010 </td>\n   <td style=\"text-align:left;\"> 0 </td>\n   <td style=\"text-align:left;\"> 0 </td>\n   <td style=\"text-align:left;\"> 00 </td>\n   <td style=\"text-align:left;\"> United States </td>\n   <td style=\"text-align:right;\"> 308745538 </td>\n   <td style=\"text-align:right;\"> 308758105 </td>\n   <td style=\"text-align:left;\"> POPESTIMATE2012 </td>\n   <td style=\"text-align:right;\"> 313877662 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 010 </td>\n   <td style=\"text-align:left;\"> 0 </td>\n   <td style=\"text-align:left;\"> 0 </td>\n   <td style=\"text-align:left;\"> 00 </td>\n   <td style=\"text-align:left;\"> United States </td>\n   <td style=\"text-align:right;\"> 308745538 </td>\n   <td style=\"text-align:right;\"> 308758105 </td>\n   <td style=\"text-align:left;\"> POPESTIMATE2013 </td>\n   <td style=\"text-align:right;\"> 316059947 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 010 </td>\n   <td style=\"text-align:left;\"> 0 </td>\n   <td style=\"text-align:left;\"> 0 </td>\n   <td style=\"text-align:left;\"> 00 </td>\n   <td style=\"text-align:left;\"> United States </td>\n   <td style=\"text-align:right;\"> 308745538 </td>\n   <td style=\"text-align:right;\"> 308758105 </td>\n   <td style=\"text-align:left;\"> POPESTIMATE2014 </td>\n   <td style=\"text-align:right;\"> 318386329 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 010 </td>\n   <td style=\"text-align:left;\"> 0 </td>\n   <td style=\"text-align:left;\"> 0 </td>\n   <td style=\"text-align:left;\"> 00 </td>\n   <td style=\"text-align:left;\"> United States </td>\n   <td style=\"text-align:right;\"> 308745538 </td>\n   <td style=\"text-align:right;\"> 308758105 </td>\n   <td style=\"text-align:left;\"> POPESTIMATE2015 </td>\n   <td style=\"text-align:right;\"> 320738994 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 010 </td>\n   <td style=\"text-align:left;\"> 0 </td>\n   <td style=\"text-align:left;\"> 0 </td>\n   <td style=\"text-align:left;\"> 00 </td>\n   <td style=\"text-align:left;\"> United States </td>\n   <td style=\"text-align:right;\"> 308745538 </td>\n   <td style=\"text-align:right;\"> 308758105 </td>\n   <td style=\"text-align:left;\"> POPESTIMATE2016 </td>\n   <td style=\"text-align:right;\"> 323071755 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 010 </td>\n   <td style=\"text-align:left;\"> 0 </td>\n   <td style=\"text-align:left;\"> 0 </td>\n   <td style=\"text-align:left;\"> 00 </td>\n   <td style=\"text-align:left;\"> United States </td>\n   <td style=\"text-align:right;\"> 308745538 </td>\n   <td style=\"text-align:right;\"> 308758105 </td>\n   <td style=\"text-align:left;\"> POPESTIMATE2017 </td>\n   <td style=\"text-align:right;\"> 325122128 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 010 </td>\n   <td style=\"text-align:left;\"> 0 </td>\n   <td style=\"text-align:left;\"> 0 </td>\n   <td style=\"text-align:left;\"> 00 </td>\n   <td style=\"text-align:left;\"> United States </td>\n   <td style=\"text-align:right;\"> 308745538 </td>\n   <td style=\"text-align:right;\"> 308758105 </td>\n   <td style=\"text-align:left;\"> POPESTIMATE2018 </td>\n   <td style=\"text-align:right;\"> 326838199 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 010 </td>\n   <td style=\"text-align:left;\"> 0 </td>\n   <td style=\"text-align:left;\"> 0 </td>\n   <td style=\"text-align:left;\"> 00 </td>\n   <td style=\"text-align:left;\"> United States </td>\n   <td style=\"text-align:right;\"> 308745538 </td>\n   <td style=\"text-align:right;\"> 308758105 </td>\n   <td style=\"text-align:left;\"> POPESTIMATE2019 </td>\n   <td style=\"text-align:right;\"> 328329953 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 010 </td>\n   <td style=\"text-align:left;\"> 0 </td>\n   <td style=\"text-align:left;\"> 0 </td>\n   <td style=\"text-align:left;\"> 00 </td>\n   <td style=\"text-align:left;\"> United States </td>\n   <td style=\"text-align:right;\"> 308745538 </td>\n   <td style=\"text-align:right;\"> 308758105 </td>\n   <td style=\"text-align:left;\"> POPESTIMATE2020 </td>\n   <td style=\"text-align:right;\"> 329484123 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n:::\n\nWhat do we need to do next?\n\n## Tidyverse strategy\n\nFinally, we need to use the `str_sub()` function to shorten our `Year` variable before turning it into a numeric.\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"6\"}\nUS_pop |> \n  select(-POPESTIMATE042020) |>\n  pivot_longer(contains(\"POPESTIMATE\"), \n               names_to = \"Year\",\n               values_to = \"Population\") |>\n  mutate(Year = as.numeric(stringr::str_sub(Year, start = 12))) |>\n  kable()\n```\n:::\n\n::: {style=\"height:450px;overflow:auto;\"}\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> SUMLEV </th>\n   <th style=\"text-align:left;\"> REGION </th>\n   <th style=\"text-align:left;\"> DIVISION </th>\n   <th style=\"text-align:left;\"> STATE </th>\n   <th style=\"text-align:left;\"> NAME </th>\n   <th style=\"text-align:right;\"> CENSUS2010POP </th>\n   <th style=\"text-align:right;\"> ESTIMATESBASE2010 </th>\n   <th style=\"text-align:right;\"> Year </th>\n   <th style=\"text-align:right;\"> Population </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> 010 </td>\n   <td style=\"text-align:left;\"> 0 </td>\n   <td style=\"text-align:left;\"> 0 </td>\n   <td style=\"text-align:left;\"> 00 </td>\n   <td style=\"text-align:left;\"> United States </td>\n   <td style=\"text-align:right;\"> 308745538 </td>\n   <td style=\"text-align:right;\"> 308758105 </td>\n   <td style=\"text-align:right;\"> 2010 </td>\n   <td style=\"text-align:right;\"> 309327143 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 010 </td>\n   <td style=\"text-align:left;\"> 0 </td>\n   <td style=\"text-align:left;\"> 0 </td>\n   <td style=\"text-align:left;\"> 00 </td>\n   <td style=\"text-align:left;\"> United States </td>\n   <td style=\"text-align:right;\"> 308745538 </td>\n   <td style=\"text-align:right;\"> 308758105 </td>\n   <td style=\"text-align:right;\"> 2011 </td>\n   <td style=\"text-align:right;\"> 311583481 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 010 </td>\n   <td style=\"text-align:left;\"> 0 </td>\n   <td style=\"text-align:left;\"> 0 </td>\n   <td style=\"text-align:left;\"> 00 </td>\n   <td style=\"text-align:left;\"> United States </td>\n   <td style=\"text-align:right;\"> 308745538 </td>\n   <td style=\"text-align:right;\"> 308758105 </td>\n   <td style=\"text-align:right;\"> 2012 </td>\n   <td style=\"text-align:right;\"> 313877662 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 010 </td>\n   <td style=\"text-align:left;\"> 0 </td>\n   <td style=\"text-align:left;\"> 0 </td>\n   <td style=\"text-align:left;\"> 00 </td>\n   <td style=\"text-align:left;\"> United States </td>\n   <td style=\"text-align:right;\"> 308745538 </td>\n   <td style=\"text-align:right;\"> 308758105 </td>\n   <td style=\"text-align:right;\"> 2013 </td>\n   <td style=\"text-align:right;\"> 316059947 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 010 </td>\n   <td style=\"text-align:left;\"> 0 </td>\n   <td style=\"text-align:left;\"> 0 </td>\n   <td style=\"text-align:left;\"> 00 </td>\n   <td style=\"text-align:left;\"> United States </td>\n   <td style=\"text-align:right;\"> 308745538 </td>\n   <td style=\"text-align:right;\"> 308758105 </td>\n   <td style=\"text-align:right;\"> 2014 </td>\n   <td style=\"text-align:right;\"> 318386329 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 010 </td>\n   <td style=\"text-align:left;\"> 0 </td>\n   <td style=\"text-align:left;\"> 0 </td>\n   <td style=\"text-align:left;\"> 00 </td>\n   <td style=\"text-align:left;\"> United States </td>\n   <td style=\"text-align:right;\"> 308745538 </td>\n   <td style=\"text-align:right;\"> 308758105 </td>\n   <td style=\"text-align:right;\"> 2015 </td>\n   <td style=\"text-align:right;\"> 320738994 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 010 </td>\n   <td style=\"text-align:left;\"> 0 </td>\n   <td style=\"text-align:left;\"> 0 </td>\n   <td style=\"text-align:left;\"> 00 </td>\n   <td style=\"text-align:left;\"> United States </td>\n   <td style=\"text-align:right;\"> 308745538 </td>\n   <td style=\"text-align:right;\"> 308758105 </td>\n   <td style=\"text-align:right;\"> 2016 </td>\n   <td style=\"text-align:right;\"> 323071755 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 010 </td>\n   <td style=\"text-align:left;\"> 0 </td>\n   <td style=\"text-align:left;\"> 0 </td>\n   <td style=\"text-align:left;\"> 00 </td>\n   <td style=\"text-align:left;\"> United States </td>\n   <td style=\"text-align:right;\"> 308745538 </td>\n   <td style=\"text-align:right;\"> 308758105 </td>\n   <td style=\"text-align:right;\"> 2017 </td>\n   <td style=\"text-align:right;\"> 325122128 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 010 </td>\n   <td style=\"text-align:left;\"> 0 </td>\n   <td style=\"text-align:left;\"> 0 </td>\n   <td style=\"text-align:left;\"> 00 </td>\n   <td style=\"text-align:left;\"> United States </td>\n   <td style=\"text-align:right;\"> 308745538 </td>\n   <td style=\"text-align:right;\"> 308758105 </td>\n   <td style=\"text-align:right;\"> 2018 </td>\n   <td style=\"text-align:right;\"> 326838199 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 010 </td>\n   <td style=\"text-align:left;\"> 0 </td>\n   <td style=\"text-align:left;\"> 0 </td>\n   <td style=\"text-align:left;\"> 00 </td>\n   <td style=\"text-align:left;\"> United States </td>\n   <td style=\"text-align:right;\"> 308745538 </td>\n   <td style=\"text-align:right;\"> 308758105 </td>\n   <td style=\"text-align:right;\"> 2019 </td>\n   <td style=\"text-align:right;\"> 328329953 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 010 </td>\n   <td style=\"text-align:left;\"> 0 </td>\n   <td style=\"text-align:left;\"> 0 </td>\n   <td style=\"text-align:left;\"> 00 </td>\n   <td style=\"text-align:left;\"> United States </td>\n   <td style=\"text-align:right;\"> 308745538 </td>\n   <td style=\"text-align:right;\"> 308758105 </td>\n   <td style=\"text-align:right;\"> 2020 </td>\n   <td style=\"text-align:right;\"> 329484123 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n:::\n\n## Tidyverse strategy\n\nNow we can `|>` it to `ggplot`:\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"7-8\"}\nUS_pop |> \n  select(-POPESTIMATE042020) |>\n  pivot_longer(contains(\"POPESTIMATE\"), \n               names_to = \"Year\",\n               values_to = \"Population\") |>\n  mutate(Year = as.numeric(stringr::str_sub(Year, start = 12))) |>\n  ggplot(aes(x = Year, y = Population)) + \n  geom_line()\n```\n\n::: {.cell-output-display}\n![](08_advanced-visualization_files/figure-revealjs/unnamed-chunk-34-1.png){width=768}\n:::\n:::\n\n\n## Tidyverse strategy: More complicated plots\n\nWe can map the `color` aesthetic to the region:\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"2, 7-8\"}\nstate_population |> \n  filter(SUMLEV == \"020\") |>\n  select(-POPESTIMATE042020) |>\n  pivot_longer(contains(\"POPESTIMATE\"), \n               names_to = \"Year\",\n               values_to = \"Population\") |>\n  mutate(Year = as.numeric(stringr::str_sub(Year, start = 12))) |>\n  ggplot(aes(x = Year, y = Population, color = NAME)) + \n  geom_line()\n```\n\n::: {.cell-output-display}\n![](08_advanced-visualization_files/figure-revealjs/unnamed-chunk-35-1.png){width=960}\n:::\n:::\n\n\n## `pivot_longer()` and `pivot_wider()`\n\nThe `pivot_longer()` and `pivot_wider()` functions are useful for reshaping data: `pivot_longer()` \"lengthens\" datasets and `pivot_wider()` does the opposite.\n\nThey are challenging to use because you need to have a clear vision of the data frame you want, not because they are complicated in R.\n\n## Example: `pivot_longer()`\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrelig_income\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 18 × 11\n   religion `<$10k` `$10-20k` `$20-30k` `$30-40k` `$40-50k` `$50-75k` `$75-100k`\n   <chr>      <dbl>     <dbl>     <dbl>     <dbl>     <dbl>     <dbl>      <dbl>\n 1 Agnostic      27        34        60        81        76       137        122\n 2 Atheist       12        27        37        52        35        70         73\n 3 Buddhist      27        21        30        34        33        58         62\n 4 Catholic     418       617       732       670       638      1116        949\n 5 Don’t k…      15        14        15        11        10        35         21\n 6 Evangel…     575       869      1064       982       881      1486        949\n 7 Hindu          1         9         7         9        11        34         47\n 8 Histori…     228       244       236       238       197       223        131\n 9 Jehovah…      20        27        24        24        21        30         15\n10 Jewish        19        19        25        25        30        95         69\n11 Mainlin…     289       495       619       655       651      1107        939\n12 Mormon        29        40        48        51        56       112         85\n13 Muslim         6         7         9        10         9        23         16\n14 Orthodox      13        17        23        32        32        47         38\n15 Other C…       9         7        11        13        13        14         18\n16 Other F…      20        33        40        46        49        63         46\n17 Other W…       5         2         3         4         2         7          3\n18 Unaffil…     217       299       374       365       341       528        407\n# ℹ 3 more variables: `$100-150k` <dbl>, `>150k` <dbl>,\n#   `Don't know/refused` <dbl>\n```\n:::\n:::\n\n\n## Example: `pivot_longer()`\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrelig_income |>\n  pivot_longer(!religion, names_to = \"income\", values_to = \"count\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 180 × 3\n   religion income             count\n   <chr>    <chr>              <dbl>\n 1 Agnostic <$10k                 27\n 2 Agnostic $10-20k               34\n 3 Agnostic $20-30k               60\n 4 Agnostic $30-40k               81\n 5 Agnostic $40-50k               76\n 6 Agnostic $50-75k              137\n 7 Agnostic $75-100k             122\n 8 Agnostic $100-150k            109\n 9 Agnostic >150k                 84\n10 Agnostic Don't know/refused    96\n# ℹ 170 more rows\n```\n:::\n:::\n\n\n## Example: `pivot_longer()`\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbillboard\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 317 × 79\n   artist     track date.entered   wk1   wk2   wk3   wk4   wk5   wk6   wk7   wk8\n   <chr>      <chr> <date>       <dbl> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl>\n 1 2 Pac      Baby… 2000-02-26      87    82    72    77    87    94    99    NA\n 2 2Ge+her    The … 2000-09-02      91    87    92    NA    NA    NA    NA    NA\n 3 3 Doors D… Kryp… 2000-04-08      81    70    68    67    66    57    54    53\n 4 3 Doors D… Loser 2000-10-21      76    76    72    69    67    65    55    59\n 5 504 Boyz   Wobb… 2000-04-15      57    34    25    17    17    31    36    49\n 6 98^0       Give… 2000-08-19      51    39    34    26    26    19     2     2\n 7 A*Teens    Danc… 2000-07-08      97    97    96    95   100    NA    NA    NA\n 8 Aaliyah    I Do… 2000-01-29      84    62    51    41    38    35    35    38\n 9 Aaliyah    Try … 2000-03-18      59    53    38    28    21    18    16    14\n10 Adams, Yo… Open… 2000-08-26      76    76    74    69    68    67    61    58\n# ℹ 307 more rows\n# ℹ 68 more variables: wk9 <dbl>, wk10 <dbl>, wk11 <dbl>, wk12 <dbl>,\n#   wk13 <dbl>, wk14 <dbl>, wk15 <dbl>, wk16 <dbl>, wk17 <dbl>, wk18 <dbl>,\n#   wk19 <dbl>, wk20 <dbl>, wk21 <dbl>, wk22 <dbl>, wk23 <dbl>, wk24 <dbl>,\n#   wk25 <dbl>, wk26 <dbl>, wk27 <dbl>, wk28 <dbl>, wk29 <dbl>, wk30 <dbl>,\n#   wk31 <dbl>, wk32 <dbl>, wk33 <dbl>, wk34 <dbl>, wk35 <dbl>, wk36 <dbl>,\n#   wk37 <dbl>, wk38 <dbl>, wk39 <dbl>, wk40 <dbl>, wk41 <dbl>, wk42 <dbl>, …\n```\n:::\n:::\n\n\n## Example: `pivot_longer()`\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbillboard |>\n  pivot_longer(\n    cols = starts_with(\"wk\"),\n    names_to = \"week\",\n    names_prefix = \"wk\",\n    values_to = \"rank\",\n    values_drop_na = TRUE\n  )\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 5,307 × 5\n   artist  track                   date.entered week   rank\n   <chr>   <chr>                   <date>       <chr> <dbl>\n 1 2 Pac   Baby Don't Cry (Keep... 2000-02-26   1        87\n 2 2 Pac   Baby Don't Cry (Keep... 2000-02-26   2        82\n 3 2 Pac   Baby Don't Cry (Keep... 2000-02-26   3        72\n 4 2 Pac   Baby Don't Cry (Keep... 2000-02-26   4        77\n 5 2 Pac   Baby Don't Cry (Keep... 2000-02-26   5        87\n 6 2 Pac   Baby Don't Cry (Keep... 2000-02-26   6        94\n 7 2 Pac   Baby Don't Cry (Keep... 2000-02-26   7        99\n 8 2Ge+her The Hardest Part Of ... 2000-09-02   1        91\n 9 2Ge+her The Hardest Part Of ... 2000-09-02   2        87\n10 2Ge+her The Hardest Part Of ... 2000-09-02   3        92\n# ℹ 5,297 more rows\n```\n:::\n:::\n\n\n## Example: `pivot_wider()`\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfish_encounters\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 114 × 3\n   fish  station  seen\n   <fct> <fct>   <int>\n 1 4842  Release     1\n 2 4842  I80_1       1\n 3 4842  Lisbon      1\n 4 4842  Rstr        1\n 5 4842  Base_TD     1\n 6 4842  BCE         1\n 7 4842  BCW         1\n 8 4842  BCE2        1\n 9 4842  BCW2        1\n10 4842  MAE         1\n# ℹ 104 more rows\n```\n:::\n:::\n\n\n## Example: `pivot_wider()`\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfish_encounters |>\n  pivot_wider(names_from = station, values_from = seen)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 19 × 12\n   fish  Release I80_1 Lisbon  Rstr Base_TD   BCE   BCW  BCE2  BCW2   MAE   MAW\n   <fct>   <int> <int>  <int> <int>   <int> <int> <int> <int> <int> <int> <int>\n 1 4842        1     1      1     1       1     1     1     1     1     1     1\n 2 4843        1     1      1     1       1     1     1     1     1     1     1\n 3 4844        1     1      1     1       1     1     1     1     1     1     1\n 4 4845        1     1      1     1       1    NA    NA    NA    NA    NA    NA\n 5 4847        1     1      1    NA      NA    NA    NA    NA    NA    NA    NA\n 6 4848        1     1      1     1      NA    NA    NA    NA    NA    NA    NA\n 7 4849        1     1     NA    NA      NA    NA    NA    NA    NA    NA    NA\n 8 4850        1     1     NA     1       1     1     1    NA    NA    NA    NA\n 9 4851        1     1     NA    NA      NA    NA    NA    NA    NA    NA    NA\n10 4854        1     1     NA    NA      NA    NA    NA    NA    NA    NA    NA\n11 4855        1     1      1     1       1    NA    NA    NA    NA    NA    NA\n12 4857        1     1      1     1       1     1     1     1     1    NA    NA\n13 4858        1     1      1     1       1     1     1     1     1     1     1\n14 4859        1     1      1     1       1    NA    NA    NA    NA    NA    NA\n15 4861        1     1      1     1       1     1     1     1     1     1     1\n16 4862        1     1      1     1       1     1     1     1     1    NA    NA\n17 4863        1     1     NA    NA      NA    NA    NA    NA    NA    NA    NA\n18 4864        1     1     NA    NA      NA    NA    NA    NA    NA    NA    NA\n19 4865        1     1      1    NA      NA    NA    NA    NA    NA    NA    NA\n```\n:::\n:::\n\n\n## Example: `pivot_wider()`\n\n\n::: {.cell}\n\n```{.r .cell-code}\nus_rent_income\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 104 × 5\n   GEOID NAME       variable estimate   moe\n   <chr> <chr>      <chr>       <dbl> <dbl>\n 1 01    Alabama    income      24476   136\n 2 01    Alabama    rent          747     3\n 3 02    Alaska     income      32940   508\n 4 02    Alaska     rent         1200    13\n 5 04    Arizona    income      27517   148\n 6 04    Arizona    rent          972     4\n 7 05    Arkansas   income      23789   165\n 8 05    Arkansas   rent          709     5\n 9 06    California income      29454   109\n10 06    California rent         1358     3\n# ℹ 94 more rows\n```\n:::\n:::\n\n\n## Example: `pivot_wider()`\n\n\n::: {.cell}\n\n```{.r .cell-code}\nus_rent_income |>\n  pivot_wider(\n    names_from = variable,\n    values_from = c(estimate, moe)\n  )\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 52 × 6\n   GEOID NAME                 estimate_income estimate_rent moe_income moe_rent\n   <chr> <chr>                          <dbl>         <dbl>      <dbl>    <dbl>\n 1 01    Alabama                        24476           747        136        3\n 2 02    Alaska                         32940          1200        508       13\n 3 04    Arizona                        27517           972        148        4\n 4 05    Arkansas                       23789           709        165        5\n 5 06    California                     29454          1358        109        3\n 6 08    Colorado                       32401          1125        109        5\n 7 09    Connecticut                    35326          1123        195        5\n 8 10    Delaware                       31560          1076        247       10\n 9 11    District of Columbia           43198          1424        681       17\n10 12    Florida                        25952          1077         70        3\n# ℹ 42 more rows\n```\n:::\n:::\n",
    "supporting": [
      "08_advanced-visualization_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../site_libs/kePrint-0.0.1/kePrint.js\"></script>\n<link href=\"../site_libs/lightable-0.0.1/lightable.css\" rel=\"stylesheet\" />\n"
      ],
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}