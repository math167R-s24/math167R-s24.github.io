{
  "hash": "9b10478860ac31cc0488cea689963de1",
  "result": {
    "markdown": "---\ntitle: \"Lab 6\"\nauthor: \"YOUR NAME HERE\"\nformat: \n  html:\n    embed-resources: true\n    code-tools: true\n    code-summary: \"Code\"\n---\n\n\nRemember, you must submit *both* your .Rmd and the compiled .html in order to receive full credit! In addition, to receive full credit, your code output and plots must be correctly formatted.\n\n### Collaborators\n\nFor this lab, please work with one to two other students. List their names here.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# LOAD ANY RELEVANT PACKAGES HERE\n```\n:::\n\n\n## A. Basic functions\n\nConsider the following code.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncreate_p_norm <- function(p = 2) {\n  return(\n    function(x) return(sum(abs(x) ^ p) ^ (1 / p))\n  )\n}\n```\n:::\n\n\n1. Explain in your own words what the following code does:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnorm_1 <- create_p_norm(1)\nx <- c(-1, 1, 2)\nnorm_1(x)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 4\n```\n:::\n:::\n\n\n2. Explain in your own words what the following code does:\n\n\n::: {.cell}\n\n```{.r .cell-code}\np <- 3\nnorm_mystery <- create_p_norm()\nx <- c(-1, 1, 2)\nnorm_mystery(x)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 2.44949\n```\n:::\n:::\n\n\n## B. Skewness and Kurtosis\n\nSkewness describes how asymmetrical the distribution of a numerical variable is around its mean. Given observations $x_1,\\ldots, x_n$, we can calculate the sample skewness $s$ of a variable using the following formula:\n\n$$s = \\frac{\\frac{1}{n}\\sum\\limits_{i=1}^n(x_i-\\overline{x})^3}{\\left[\\frac{1}{n}\\sum\\limits_{i=1}^n(x_i-\\overline{x})^2\\right]^{3/2}}$$\nKurtosis is a measure of the \"tailedness\" of the distribution of a numerical variable is around its mean. Higher values of kurtosis indicate more extreme outliers. Given observations $x_1,\\ldots, x_n$, we can calculate the sample kurtosis $k$ of a variable using the following formula:\n\n$$k = \\frac{\\frac{1}{n}\\sum\\limits_{i=1}^n(x_i-\\overline{x})^4}{\\left[\\frac{1}{n}\\sum\\limits_{i=1}^n(x_i-\\overline{x})^2\\right]^{2}}-3$$\n\n3. Write a function `skewness()` that takes as input a numeric vector `x` and returns the sample skewness. There are functions in R that compute skewness, but you cannot use any of them--write your own implementation. You may remove all `NA` values by default. Use your function to compute the sample skewness of the `arr_delay` variable in the `flights` dataset contained in the `nycflights13` package.\n\n4. Write a function `kurtosis()` that takes as input a numeric vector `x` and returns the sample skewness. There are functions in R that compute kurtosis, but you cannot use any of them--write your own implementation. You may remove all `NA` values by default. Use your function to compute the sample kurtosis of the `arr_delay` variable in the `flights` dataset contained in the `nycflights13` package.\n\n5. Write a function `get_column_skewness()` that takes as input a data frame and calculates the skewness of each **numeric** variable. The output should be a data frame with two variables: `variable` containing the name of the variable and `skewness` containing the skewness. Your output data frame should only include the numeric variables. You may remove all `NA` values by default. Demonstrate your output on the `penguins` dataset.\n\n## C. Finding an error\n\nSuppose you have two teams of runners participating in a 5k. We wish to write a function that takes as input two vectors representing the times of the runners in each team and returns a list of two vectors representing the ranks of each team's runners.\n\nFor example, if the first team's times are `c(16.8, 21.2, 19.1)` and the second team's times are `c(17.2, 18.1, 20.0)`, the function should return `c(1, 6, 4)` for the first team and `c(2, 3, 5)` for the second team. \n\nBelow is a draft version of the function `get_runner_ranks()`. However, there is an error somewhere. Use any method we discussed in class to identify the error.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nget_runner_ranks <- function(x, y) {\n  # combine all runner times\n  combined_times <- c(x, y) \n  \n  # sort all runner times from fastest to slowest\n  sort(combined_times, decreasing = T)\n  \n  # create ranks vectors\n  ranks_x <- numeric(length(x))\n  ranks_y <- numeric(length(y))\n  \n  for (i in seq_along(ranks_x)) {\n    # look up rank of time i in x in combined_times\n    ranks_x[i] <- match(x[i], combined_times)\n  }\n  \n  for (i in seq_along(ranks_y)) {\n    # look up rank of time i in y in combined_times\n    ranks_y[i] <- match(y[i], combined_times)\n  }\n  \n  # return a list of first team and second team ranks\n  return(list(x = ranks_x, y = ranks_y))\n}\n```\n:::\n\n\n5. Explain in your own words what the error was.\n\n6. Below, write a corrected version of `get_runner_ranks()` and compute `get_runner_ranks(c(16.8, 21.2, 19.1), c(17.2, 18.1, 20.0))`.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nget_runner_ranks <- function(x, y) {\n  # YOUR CODE HERE\n}\n```\n:::\n",
    "supporting": [
      "06_lab_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}